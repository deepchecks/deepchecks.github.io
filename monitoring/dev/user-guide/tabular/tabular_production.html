
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

<!-- Google Tag Manager -->
<!--<script>(function (w, d, s, l, i) {-->
<!--        w[l] = w[l] || []; w[l].push({-->
<!--            'gtm.start':-->
<!--                new Date().getTime(), event: 'gtm.js'-->
<!--        }); var f = d.getElementsByTagName(s)[0],-->
<!--            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =-->
<!--                'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);-->
<!--    })(window, document, 'script', 'dataLayer', 'GTM-NNKXRJQ');</script>-->
<!-- End Google Tag Manager -->
<meta name="title" content="Sending Tabular Production Data | Deepchecks Documentation">
<meta name="description" content="Do you need to know more about Sending Tabular Production Data? Read more at Deepchecks Online Documentation">
<meta name="docsearch:version" content="">


<!-- Warning: 
        The 'shortcut link' type is often seen before icon, but this link type is non-conforming, 
        ignored and web authors must not use it anymore. 
        MDN docs https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types
    -->
<link rel="shortcut icon" href="/_static/favicons/favicon.ico">
<!--<link rel="canonical" href="https://docs.deepchecks.com/stable/user-guide/tabular/tabular_production.html" />-->

<link rel="icon" href="/_static/favicons/favicon.png" sizes="32x32">
<link rel="icon" href="/_static/favicons/favicon.png" sizes="192x192">

<!-- Note: 
        Apple's iOS does not use this 'link' type, nor the 'sizes' attribute, 
        like others mobile browsers do, to select a webpage icon for Web Clip 
        or a start-up placeholder. Instead it uses the non-standard 'apple-touch-icon'.
        MDN docs: https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types;
        Safari Web Content Guide: https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html#//apple_ref/doc/uid/TP40002051-CH3-SW4
    -->
<link rel="apple-touch-icon" href="/_static/favicons/apple-touch-icon.png" sizes="32x32">
<link rel="apple-touch-icon" href="/_static/favicons/apple-touch-icon.png" sizes="192x192">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />


    <title>Sending Tabular Production Data &#8212; Deepchecks Monitoring  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" crossorigin="anonymous"></script>
<script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"
    crossorigin="anonymous"></script>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Dashboard" href="../user_interface/dashboard.html" />
    <link rel="prev" title="Setting Up a New Tabular Model" href="tabular_setup.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>

<body data-spy="scroll" data-target="#bd-toc-nav">
    <!-- Google Tag Manager (noscript) -->
<!--    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NNKXRJQ" height="0" width="0"-->
<!--            style="display:none;visibility:hidden"></iframe></noscript>-->
    <!-- End Google Tag Manager (noscript) -->
    <script>
        require.config({
            paths: {
                "docsearchLib": "https://cdn.jsdelivr.net/npm/@docsearch/js@3?noext",
                "clipboardjs": "//_static/clipboard.min"
            }
        }

        );
        // require(["docsearchLib"], function (docsearch) {
        //     docsearch({
        //         appId: "3UQ0BSGJ1N", apiKey: "83d250f88e29e9906a50ddf40a1871ce", indexName: "deepchecks", container: '#algolia-search', debug: false,
        //         searchParameters: {
        //             facetFilters: ["version:"]
        //         }
        //     });
        // });
        require(["clipboardjs"], function(clipboardJS) {
            window.ClipboardJS=clipboardJS
        });
    </script>
    <script data-url_root="/" id="documentation_options" src="//_static/documentation_options.js"></script>
    <script src="//_static/copybutton.js"></script>

    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/deepchecks_logo.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../api/index.html">
  API Reference
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://staging-v2.deepchecks.com/docs">API Docs<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Quick Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/deepchecks/deepchecks" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://deepchecks.com/slack" rel="noopener" target="_blank" title="Slack"><span><i class="fab fa-slack"></i></span>
            <label class="sr-only">Slack</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pypi.org/project/deepchecks/" rel="noopener" target="_blank" title="PyPI"><span><i class="fab fa-python"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  General
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../general/workspace_and_users.html">
   Workspace &amp; Users
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../general/concepts.html">
   Concepts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../general/faq.html">
   FAQ
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../general/aggregation_methods.html">
   Aggregation Methods
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tabular
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="auto_quickstarts/index.html">
   Tabular Quickstarts
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="auto_quickstarts/plot_quickstart.html">
     Quickstart - Get Deepchecks Monitoring Up and Running
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tabular_setup.html">
   Setting Up a New Tabular Model
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Sending Tabular Production Data
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  User Interface
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../user_interface/dashboard.html">
   Dashboard
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_interface/alerts.html">
   Alerts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_interface/analysis.html">
   Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_interface/configuration.html">
   Configuration
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Examples
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../auto_examples/index.html">
   Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../auto_examples/plot_lending_defauts.html">
     Use Case: Predicting Loan Defaults
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#uploading-data">
   Uploading Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#batch-upload">
     Batch Upload
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sample-upload">
     Sample Upload
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#validating-your-data-has-arrived">
   Validating Your Data has Arrived
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#updating-labels">
   Updating Labels
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#handling-delayed-labels-in-alerts">
     Handling Delayed Labels in Alerts
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
            
          </div>
          

          
    
        
    
    <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
        
            <div>
                
  <section id="sending-tabular-production-data">
<span id="tabular-prod"></span><h1>Sending Tabular Production Data<a class="headerlink" href="#sending-tabular-production-data" title="Permalink to this headline">#</a></h1>
<p>This guide provides a deep dive into the process and reviews the different options for sending your production data to
deepchecks. For a more streamlined guide that will quickly take you through the essentials of getting
started with deepchecks for tabular data, from creating your model to easily sending production data, see the
<a class="reference internal" href="auto_quickstarts/plot_quickstart.html"><span class="doc">Tabular Quickstart</span></a>. To read more about setting up your
model and defining your reference data, see <a class="reference internal" href="tabular_setup.html"><span class="doc">Setting Up a New Tabular Model</span></a>. This guide assumes that you have
already set up your model and model_version, and perhaps also uploaded reference data.</p>
<p>Anytime you’ll be working with deepchecks, you must first instantiate a
<a class="reference internal" href="../../api/generated/deepchecks_client.DeepchecksClient.html#deepchecks_client.DeepchecksClient" title="deepchecks_client.DeepchecksClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeepchecksClient</span></code></a> object. To do that, first generate a
personal API token using the application’s dashboard:</p>
<a class="reference internal image-reference" href="../../_images/get_api_token.png"><img alt="../../_images/get_api_token.png" src="../../_images/get_api_token.png" style="width: 600px;" /></a>
<p>Then you should create the <a class="reference internal" href="../../api/generated/deepchecks_client.DeepchecksClient.html#deepchecks_client.DeepchecksClient" title="deepchecks_client.DeepchecksClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeepchecksClient</span></code></a> object:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">deepchecks_client</span> <span class="kn">import</span> <span class="n">DeepchecksClient</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">host</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;DEEPCHECKS_API_HOST&#39;</span><span class="p">)</span>  <span class="c1"># Replace this with https://app.deepchecks.com</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Make sure to put the API token in your environment variables. Or alternatively (less recommended):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># os.environ[&#39;DEEPCHECKS_API_TOKEN&#39;] = &#39;uncomment-this-line-and-insert-your-api-token-here&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dc_client</span> <span class="o">=</span> <span class="n">DeepchecksClient</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="n">host</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;DEEPCHECKS_API_TOKEN&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>Once client is set up you’re ready to send your production data to deepchecks.
This guide will walk you through the following steps:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="#uploading-data">Uploading Data</a></p></li>
<li><p><a class="reference external" href="#validating-your-data-has-arrived">Validating Your Data has Arrived</a></p></li>
<li><p><a class="reference external" href="#updating-labels">Updating Labels</a></p></li>
</ol>
<section id="uploading-data">
<h2>Uploading Data<a class="headerlink" href="#uploading-data" title="Permalink to this headline">#</a></h2>
<p>In order to monitor your model, you must first upload your production data to deepchecks. The data being tracked by
deepchecks includes your model’s predictions, the actual labels, and the features used to make the predictions. Each
sample should have an accompanying unique identifier (ID) and a timestamp which represents the time the prediction
was made.</p>
<p>Additionally, you may upload “additional data”, which are additional columns of data that are not used by the model.
This data can be used to segment your data. For example, you may want to segment your data by the country of the
customer, or by the type of device used. If this data is not used by the model, it can be uploaded as additional data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The data you upload must match the data schema used when creating the model version, which is a definition
of the data columns and their roles. To learn more about defining your version schema, see the
<span class="xref std std-doc">tabular setup guide</span>.</p>
</div>
<dl class="simple">
<dt>Data can be uploaded in two ways:</dt><dd><ol class="arabic simple">
<li><p><a class="reference external" href="#batch-upload">By batch</a> - upload a batch of data at once. Useful for uploading historical data, or when
uploading data from a whole day at once (useful when model predictions are also done in a batched manner).</p></li>
<li><p><a class="reference external" href="#sample-upload">By Sample</a> - upload a single sample at a time. Useful for uploading data in real-time,
when the deepchecks upload API is called for each sample, perhaps as part of a model’s prediction pipeline.</p></li>
</ol>
</dd>
</dl>
<div class="attention admonition">
<p class="admonition-title">Sending Data in Order</p>
<p>Deepchecks requires that data sent within a single version be sent in order. This means that once a certain sample
has been sent (either by batch or by sample), future data uploads must upload samples with a timestamp that is
greater than or equal to the timestamp of the last sample uploaded.</p>
</div>
<section id="batch-upload">
<h3>Batch Upload<a class="headerlink" href="#batch-upload" title="Permalink to this headline">#</a></h3>
<p>To upload a batch of data, use the
<a class="reference internal" href="../../api/generated/deepchecks_client.core.client.DeepchecksModelVersionClient.log_batch.html#deepchecks_client.core.client.DeepchecksModelVersionClient.log_batch" title="deepchecks_client.core.client.DeepchecksModelVersionClient.log_batch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DeepchecksModelVersionClient.log_batch()</span></code></a>
method of your <a class="reference internal" href="../../api/generated/deepchecks_client.core.client.DeepchecksModelVersionClient.html#deepchecks_client.core.client.DeepchecksModelVersionClient" title="deepchecks_client.core.client.DeepchecksModelVersionClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span> <span class="pre">Version</span></code></a> object. The method
has the following arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sample_ids</span></code> - A Sequence of unique identifiers for each sample. Each item in the sequence must be a single ID
value, matching the corresponding sample in the data. <strong>This is a mandatory argument.</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timestamps</span></code> - A Sequence of timestamps for each sample. Each item in the sequence must an int timestamp
representing the second-based epoch time of the model’s prediction. If not provided, the current time will be used
for all samples in the batch (not recommended).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> - a <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> containing the data (features and additional data) to upload. The columns of
the DataFrame must match the schema of the model version. Must be set to None explicitly if you are uploading
predictions or labels only.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">predictions</span></code> - A Sequence of predictions made by the model on the data. Each item in the sequence must be a single
prediction value, matching the corresponding sample in the data. <strong>This is a mandatory argument.</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prediction_probas</span></code> - A 2D numpy array of probabilities made by the model on the data. This is argument should
be provided only for classification models, and is used to calculate metrics such as AUC that require probabilities.
The array must have the same number of rows as the data, and the number of columns must match the number of classes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code> - A Sequence of labels for each sample. Each item in the sequence must be a single label value,
matching the corresponding sample in the data.
<strong>Labels are the only component of the production data that can be updated or provided later on</strong>
(see the <a class="reference external" href="#updating-labels">Updating Labels</a> section below). To represent missing labels,
use the <code class="docutils literal notranslate"><span class="pre">None</span></code> value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samples_per_send</span></code> - The number of samples to send in each request. This is useful when uploading large batches
of data, to avoid sending too many samples in a single request. The default value is 10,000, and can be lowered
if you encounter errors when uploading data with a large number of columns.</p></li>
</ul>
<p>Each Sequence can be a <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.5.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>, a <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, or a list of values.</p>
<p>In the following example, we upload a batch of data to the model version we have already created. In this case, the
whole batch is contained within a single DataFrame, with the dataframe index serving as the sample IDs, ‘datestamp’
serving as the timestamp, and the ‘price’ column serving as the label. Predictions were made by a model independently.
As this is a regression model, we do not provide the <code class="docutils literal notranslate"><span class="pre">prediction_probas</span></code> argument.</p>
</section>
<section id="sample-upload">
<h3>Sample Upload<a class="headerlink" href="#sample-upload" title="Permalink to this headline">#</a></h3>
<p>To upload a single sample, use the
<a class="reference internal" href="../../api/generated/deepchecks_client.core.client.DeepchecksModelVersionClient.log_sample.html#deepchecks_client.core.client.DeepchecksModelVersionClient.log_sample" title="deepchecks_client.core.client.DeepchecksModelVersionClient.log_sample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DeepchecksModelVersionClient.log_sample()</span></code></a>
method of the your <a class="reference internal" href="../../api/generated/deepchecks_client.core.client.DeepchecksModelVersionClient.html#deepchecks_client.core.client.DeepchecksModelVersionClient" title="deepchecks_client.core.client.DeepchecksModelVersionClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span> <span class="pre">Version</span></code></a> object. The method
has the following arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sample_id</span></code> - A unique identifier for the sample. <strong>This is a mandatory argument.</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">values</span></code> - A dictionary of values to upload. The keys of the dictionary, which are the column names,
must match the schema of the model version. The values are the sample values for each column. Must be set to None
explicitly if you are uploading predictions or labels only.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timestamp</span></code> - An int timestamp representing the second-based epoch time of the model’s prediction. If not provided,
the current time will be used (not recommended).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prediction</span></code> - The prediction made by the model on the sample. <strong>This is a mandatory argument.</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prediction_proba</span></code> - A Sequence (of probabilities made by the model on the sample. This is argument should
be provided only for classification models, and is used to calculate metrics such as AUC that require probabilities.
The sequence must have the same number of entries as the number of classes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">label</span></code> - The label for the sample.
<strong>Labels are the only component of the production data that can be updated or provided later on</strong></p></li>
</ul>
<p>In the following example, we upload a single sample to the a model version we have already created. In this case, the
sample is contained within a single dictionary, with the dictionary keys serving as the column names, and the values
serving as the sample values. Predictions where made by a model independently. As this is a regression model, we do
not provide the <code class="docutils literal notranslate"><span class="pre">prediction_proba</span></code> argument.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model_version</span> <span class="o">=</span> <span class="n">dc_client</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span><span class="s1">&#39;my_model&#39;</span><span class="p">,</span> <span class="s1">&#39;v1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_version</span><span class="o">.</span><span class="n">log_sample</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sample_id</span><span class="o">=</span><span class="n">sample_id</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">values</span><span class="o">=</span><span class="n">values_dict</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">timestamp</span><span class="o">=</span><span class="n">sample_timestamp</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">prediction</span><span class="o">=</span><span class="n">prediction</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="n">sample_label</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="validating-your-data-has-arrived">
<h2>Validating Your Data has Arrived<a class="headerlink" href="#validating-your-data-has-arrived" title="Permalink to this headline">#</a></h2>
<p>Once you have sent your data to Deepchecks you will typically see the results of the various monitors over time in the
dashboard screen (if the model was defined with default or custom checks and monitors). However, you can also check
the status of your data using the Models Screen. The Models Screen can be accessed from the system “Configuration” menu.</p>
<p>This screen shows a model cards for each model. Clicking the “View Details” button will expand the model
card for the selected model, in which you can see both the date for the latest sample sent to the model, and the
number of samples (rows) being processed (pending). Pending rows means that the data has been sent to Deepchecks, but
has not yet been processed, so the data won’t show up in the dashboard and analysis screen yet.</p>
<a class="reference internal image-reference" href="../../_images/models_screen1.png"><img alt="../../_images/models_screen1.png" src="../../_images/models_screen1.png" style="width: 600px;" /></a>
</section>
<section id="updating-labels">
<h2>Updating Labels<a class="headerlink" href="#updating-labels" title="Permalink to this headline">#</a></h2>
<p>When building an ML system, it is common for the labels to arrive later than the predictions. In this case, you can
update the labels for a sample by calling the
<a class="reference internal" href="../../api/generated/deepchecks_client.core.client.DeepchecksModelVersionClient.update_sample.html#deepchecks_client.core.client.DeepchecksModelVersionClient.update_sample" title="deepchecks_client.core.client.DeepchecksModelVersionClient.update_sample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DeepchecksModelVersionClient.update_sample()</span></code></a>
method of the <a class="reference internal" href="../../api/generated/deepchecks_client.core.client.DeepchecksModelVersionClient.html#deepchecks_client.core.client.DeepchecksModelVersionClient" title="deepchecks_client.core.client.DeepchecksModelVersionClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span> <span class="pre">Version</span></code></a> object.</p>
<p>The method is a simple one, receiving only the sample ID and the new label value. For example:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model_version</span> <span class="o">=</span> <span class="n">dc_client</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span><span class="s1">&#39;my_model&#39;</span><span class="p">,</span> <span class="s1">&#39;v1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_version</span><span class="o">.</span><span class="n">update_sample</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">378</span><span class="p">)</span>  <span class="c1"># &#39;1&#39; is the sample ID, 378 is the new label value</span>
</pre></div>
</div>
<p>Note that labels are the only component of the production data that can be updated or provided later on.</p>
<section id="handling-delayed-labels-in-alerts">
<h3>Handling Delayed Labels in Alerts<a class="headerlink" href="#handling-delayed-labels-in-alerts" title="Permalink to this headline">#</a></h3>
<p>Because labels can be updated after the original data and prediction where logged, Deepchecks will by default delay
raising alerts on all monitors that depend on labels, such as model performance or label drift. This is done to
better deal with use cases in which labels arrive gradually over time - we won’t want our alerts to be raised until
we have enough data to make a meaningful performance estimation or label drift analysis.</p>
<p>An alert defined on a label-related check alert will be raised (given that the alert condition is met) in either of
the following cases:</p>
<ol class="arabic simple">
<li><p>The delay time has passed (since the time at which the sample was been logged).</p></li>
<li><p>The ratio of non-missing labels within the relevant time window is greater than a given threshold.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The delay is set to 3 days by default, and the threshold on the ratio of non-missing labels is set to 1.0. These two
parameters can be modifying when creating a model by passing the <code class="docutils literal notranslate"><span class="pre">alerts_delay_seconds</span></code> and
<code class="docutils literal notranslate"><span class="pre">alerts_delay_labels_ratio</span></code> arguments to the
<a class="reference internal" href="../../api/generated/deepchecks_client.DeepchecksClient.get_or_create_model.html#deepchecks_client.DeepchecksClient.get_or_create_model" title="deepchecks_client.DeepchecksClient.get_or_create_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DeepchecksClient.get_or_create_model()</span></code></a> method.</p>
</div>
</section>
</section>
</section>


            </div>
        
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="tabular_setup.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Setting Up a New Tabular Model</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../user_interface/dashboard.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Dashboard</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
    </main>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022, Deepchecks.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>