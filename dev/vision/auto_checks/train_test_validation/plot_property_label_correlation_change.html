
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

<!-- Google Tag Manager -->
<script>(function (w, d, s, l, i) {
        w[l] = w[l] || []; w[l].push({
            'gtm.start':
                new Date().getTime(), event: 'gtm.js'
        }); var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-NNKXRJQ');</script>
<!-- End Google Tag Manager -->
<meta name="title" content="Property Label Correlation Change | Deepchecks Documentation">
<meta name="description" content="Do you need to know more about Property Label Correlation Change? Read more at Deepchecks Online Documentation">
<meta name="docsearch:version" content="dev">


<!-- Warning: 
        The 'shortcut link' type is often seen before icon, but this link type is non-conforming, 
        ignored and web authors must not use it anymore. 
        MDN docs https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types
    -->
<link rel="shortcut icon" href="/_static/favicons/favicon.ico">
<link rel="canonical" href="https://docs.deepchecks.com/stable/vision/auto_checks/train_test_validation/plot_property_label_correlation_change.html" />

<link rel="icon" href="/_static/favicons/favicon.png" sizes="32x32">
<link rel="icon" href="/_static/favicons/favicon.png" sizes="192x192">

<!-- Note: 
        Apple's iOS does not use this 'link' type, nor the 'sizes' attribute, 
        like others mobile browsers do, to select a webpage icon for Web Clip 
        or a start-up placeholder. Instead it uses the non-standard 'apple-touch-icon'.
        MDN docs: https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types;
        Safari Web Content Guide: https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html#//apple_ref/doc/uid/TP40002051-CH3-SW4
    -->
<link rel="apple-touch-icon" href="/_static/favicons/apple-touch-icon.png" sizes="32x32">
<link rel="apple-touch-icon" href="/_static/favicons/apple-touch-icon.png" sizes="192x192">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />


    <title>Property Label Correlation Change &#8212; Deepchecks Documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/rtd_sphinx_search.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" crossorigin="anonymous"></script>
<script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"
    crossorigin="anonymous"></script>

    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Model Evaluation" href="../model_evaluation/index.html" />
    <link rel="prev" title="Label Drift" href="plot_label_drift.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>

<body data-spy="scroll" data-target="#bd-toc-nav">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NNKXRJQ" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <script>
        require.config({
            paths: {
                "docsearchLib": "https://cdn.jsdelivr.net/npm/@docsearch/js@3?noext",
                "clipboardjs": "/dev/_static/clipboard.min"
            }
        }

        );
        require(["docsearchLib"], function (docsearch) {
            docsearch({
                appId: "3UQ0BSGJ1N", apiKey: "83d250f88e29e9906a50ddf40a1871ce", indexName: "deepchecks", container: '#algolia-search', debug: false,
                searchParameters: {
                    facetFilters: ["version:dev"]
                }
            });
        });
        require(["clipboardjs"], function(clipboardJS) {
            window.ClipboardJS=clipboardJS
        });
    </script>
    <div style="display:none;" id="dc-submodule">general</div>
    <script data-url_root="/" id="documentation_options" src="/dev/_static/documentation_options.js"></script>
    <script src="/dev/_static/copybutton.js"></script>

    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../../index.html">
  <img src="../../../_static/deepchecks_logo.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../getting-started/index.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../general/index.html">
  General
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../tabular/index.html">
  Tabular
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../nlp/index.html">
  NLP
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../index.html">
  Vision
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../api/index.html">
  API Reference
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-primary btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        dev  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables vision/auto_checks/train_test_validation/plot_property_label_correlation_change and {'json_url': 'https://docs.deepchecks.com/dev/_static/switcher.json', 'version_match': 'dev', 'url_template': 'https://docs.deepchecks.com/{version}/'}.
-->

<script type="text/javascript">
// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "vision/auto_checks/train_test_validation/plot_property_label_correlation_change.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://docs.deepchecks.com/dev/_static/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "vision/auto_checks/train_test_validation/plot_property_label_correlation_change.html";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            // Add dataset values for the version and name in case people want
            // to apply CSS styling based on this information.
            node.dataset["versionName"] = entry.name;
            node.dataset["version"] = entry.version;

            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's dev variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "dev") {
                node.classList.add("active");
                let btn = document.getElementById("version_switcher_button");
                btn.innerText = btn.dataset["activeVersionName"] = entry.name;
                btn.dataset["activeVersion"] = entry.version;
            }
        });
    });
})();
</script>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Quick Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/deepchecks/deepchecks" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://deepcheckscommunity.slack.com/join/shared_invite/zt-y28sjt1v-PBT50S3uoyWui_Deg5L_jg#/shared-invite/email" rel="noopener" target="_blank" title="Slack"><span><i class="fab fa-slack"></i></span>
            <label class="sr-only">Slack</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pypi.org/project/deepchecks/" rel="noopener" target="_blank" title="PyPI"><span><i class="fab fa-python"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <div id="topright-dropdown-menu" class="dropdown" style="width: fit-content;">
    <a 
        class="btn dropdown-toggle" 
        id="topright-dropdown-menu-link" 
        data-toggle="dropdown" 
        aria-haspopup="true" 
        aria-expanded="false"
        data-offset="-100,10">
            <i class="fas fa-bars"></i>
    </a>
    <div class="dropdown-menu" aria-labelledby="topright-dropdown-menu-link" x-placement="bottom-start">
        <a class="dropdown-item" href="https://github.com/deepchecks/deepchecks/issues/new?title=[Docs] Documentation contains a mistake.&body=Package Version: dev;
Page: vision/auto_checks/train_test_validation/plot_property_label_correlation_change&labels=labels=chore/documentation" target="_blank" rel="noopener noreferrer">
            <i class="fas fa-pencil-alt"></i> Report a problem
        </a>
        
            <a 
                
                    href="/dev/_sources/vision/auto_checks/train_test_validation/plot_property_label_correlation_change.rst.txt"
                
                
                class="dropdown-item" 
                target="_blank" 
                rel="noopener noreferrer">
                <i class="fas fa-code"></i> Show Source
            </a>
        
    </div>
</div>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><div id="algolia-search">
<!-- <form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form> -->
</div><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../auto_tutorials/quickstarts/index.html">
   Quickstarts
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../auto_tutorials/quickstarts/plot_simple_classification_tutorial.html">
     Image Data Validation in 5 Minutes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../auto_tutorials/quickstarts/plot_segmentation_tutorial.html">
     Semantic Segmentation Tutorial
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../auto_tutorials/quickstarts/plot_classification_tutorial.html">
     Image Classification Tutorial
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../auto_tutorials/quickstarts/plot_detection_tutorial.html">
     Object Detection Tutorial
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../auto_tutorials/other/plot_custom_task_tutorial.html">
   Custom Task Tutorial
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../auto_tutorials/other/plot_custom_checks.html">
   Creating a Custom Check
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../custom_check_templates.html">
   Custom Check Templates
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Usage Guides
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../usage_guides/visiondata_object.html">
   The Vision Data Class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../usage_guides/supported_tasks_and_formats.html">
   Supported Tasks and Formats
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../usage_guides/vision_properties.html">
   Vision Properties
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Checks Gallery
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../data_integrity/index.html">
   Data Integrity
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../data_integrity/plot_image_property_outliers.html">
     Image Property Outliers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../data_integrity/plot_label_property_outliers.html">
     Label Property Outliers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../data_integrity/plot_property_label_correlation.html">
     Property Label Correlation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Train Test Validation
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="plot_new_labels.html">
     New Labels
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plot_heatmap_comparison.html">
     Heatmap Comparison
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plot_image_dataset_drift.html">
     Image Dataset Drift
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plot_image_property_drift.html">
     Image Property Drift
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plot_label_drift.html">
     Label Drift
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Property Label Correlation Change
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../model_evaluation/index.html">
   Model Evaluation
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../model_evaluation/plot_confusion_matrix.html">
     Confusion Matrix
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model_evaluation/plot_mean_average_recall_report.html">
     Mean Average Recall Report
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model_evaluation/plot_mean_average_precision_report.html">
     Mean Average Precision Report
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model_evaluation/plot_simple_model_comparison.html">
     Simple Model Comparison
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model_evaluation/plot_single_dataset_performance.html">
     Single Dataset Performance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model_evaluation/plot_class_performance.html">
     Class Performance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model_evaluation/plot_weak_segments_performance.html">
     Weak Segments Performance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model_evaluation/plot_prediction_drift.html">
     Prediction Drift
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-the-purpose-of-the-check">
   What is the purpose of the check?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-is-a-problematic-result">
     What is a problematic result?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-do-we-calculate-for-different-vision-tasks">
     How do we calculate for different vision tasks?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-is-the-predictive-power-score-pps-calculated">
     How is the Predictive Power Score (PPS) calculated?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#run-the-check-on-a-classification-task">
   Run the check on a Classification task
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loading-data-mnist">
     Loading data (MNIST)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#insert-bias">
     Insert bias
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#run-the-check">
     Run the check
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#run-the-check-on-an-object-detection-task">
   Run the check on an Object Detection task
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loading-data-coco">
     Loading data (COCO)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Insert bias
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Run the check
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#define-a-condition">
   Define a condition
  </a>
 </li>
</ul>

</nav>
              </div>
              
            
          </div>
          

          
    
        
    
    <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
        
        
            <div>
                
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-vision-auto-checks-train-test-validation-plot-property-label-correlation-change-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="property-label-correlation-change">
<span id="vision-property-label-correlation-change"></span><span id="sphx-glr-vision-auto-checks-train-test-validation-plot-property-label-correlation-change-py"></span><h1>Property Label Correlation Change<a class="headerlink" href="#property-label-correlation-change" title="Permalink to this headline">#</a></h1>
<p>This notebook provides an overview for using and understanding the “Property Label Correlation Change” check.</p>
<p><strong>Structure:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="#what-is-the-purpose-of-the-check">What is the purpose of the check?</a></p></li>
<li><p><a class="reference external" href="#run-the-check-on-a-classification-task">Run check on a Classification task</a></p></li>
<li><p><a class="reference external" href="#run-the-check-on-an-object-detection-task">Run check on an Object Detection task</a></p></li>
<li><p><a class="reference external" href="#define-a-condition">Define a condition</a></p></li>
</ul>
<section id="what-is-the-purpose-of-the-check">
<h2>What is the purpose of the check?<a class="headerlink" href="#what-is-the-purpose-of-the-check" title="Permalink to this headline">#</a></h2>
<p>The check estimates for every image :ref:` property &lt;vision__properties_guide&gt;`
(such as brightness, contrast etc.) its ability to predict the label by itself. This check can help find:</p>
<ul class="simple">
<li><p>A potential bias in one or both datasets, that leads to the labels being
strongly correlated with simple image properties such as color, brightness,
aspect ratio and more. This is a critical problem, that will likely stay hidden
without this check (as it won’t pop up when comparing model performance on train
and test).</p></li>
</ul>
<p>The check is based on calculating the predictive power score (PPS) of each image
property. For more details you can read here <a class="reference external" href="#how-is-the-predictive-power-score-pps-calculated">how the PPS is calculated</a>.</p>
<section id="what-is-a-problematic-result">
<h3>What is a problematic result?<a class="headerlink" href="#what-is-a-problematic-result" title="Permalink to this headline">#</a></h3>
<ol class="arabic">
<li><p>Image properties with a high predictive score - can indicate that there is a
bias in the dataset, as a single property can predict the label successfully,
using simple classic ML algorithms.</p>
<p>This means that a deep learning algorithm may accidentally learn these properties
instead of more accurate complex abstractions. For example, in a classification
dataset of wolves and dogs photographs, if only wolves are photographed in the
snow, the brightness of the image may be used to predict the label “wolf” easily.</p>
<p>In this case, a model might not learn to discern wolf from dog by the animal’s
characteristics, but by using the background color.</p>
</li>
<li><p>A high difference between the PPS scores of a certain image property in the
train and in the test datasets - this is an indication for a drift between
the relation of the property and the label and a possible bias in one of
the datasets.</p>
<p>For example: an object detection dataset that identifies household items.
In it, a pen would usually create a long and thin rectangle bounding box.
If in the test dataset the pens would be angled differently, or other object
are mistakenly identified as pens, the bounding boxes may have a different
aspect ratio. In this case, the PPS of the train dataset will be high, while
the PPS of the test dataset would be low, indicating that a bias in the train
dataset does not appear in the test dataset, and could indicate the model will
not be able to infer correctly on the test (or any other) dataset due to drift.</p>
</li>
</ol>
</section>
<section id="how-do-we-calculate-for-different-vision-tasks">
<h3>How do we calculate for different vision tasks?<a class="headerlink" href="#how-do-we-calculate-for-different-vision-tasks" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>For classification tasks, this check uses PPS to predict the class by image properties.</p></li>
<li><p>For object detection tasks, this check uses PPS to predict the class of each
bounding box, by the image properties of that specific bounding box.
This means that for each image, this check crops all the sub-images defined by bounding
boxes, and uses them as inputs as though they were regular classification dataset images.</p></li>
</ul>
</section>
<section id="how-is-the-predictive-power-score-pps-calculated">
<h3>How is the Predictive Power Score (PPS) calculated?<a class="headerlink" href="#how-is-the-predictive-power-score-pps-calculated" title="Permalink to this headline">#</a></h3>
<p>The properties’ predictive score results in a numeric score between 0 (feature has
no predictive power) and 1 (feature can fully predict the label alone).</p>
<p>The process of calculating the PPS is the following:</p>
<ol class="arabic simple">
<li><p>Extract from the data only the label and the feature being tested</p></li>
<li><p>Drop samples with missing values</p></li>
<li><p>Keep 5000 (this is configurable parameter) samples from the data</p></li>
<li><p>Preprocess categorical columns. For the label using <cite>sklearn.LabelEncoder</cite> and for the feature
using <cite>sklearn.OneHotEncoder</cite></p></li>
<li><p>Partition the data with 4-fold cross-validation</p></li>
<li><p>Train decision tree</p></li>
<li><p>Compare the trained model’s performance with naive model’s performance as follows:</p></li>
</ol>
<p>Regression: The naive model always predicts the median of the label column,
the metric being used is MAE and the PPS calculation is: <img class="math" src="../../../_images/math/c0bb0d1fa9a58b2929511ed2d916ef226dd28185.svg" alt="1 - \frac{\text{MAE model}}{\text{MAE naive}}"/></p>
<p>Classification: The naive model always predicts the most common class of
the label column, The metric being used is F1 and the PPS calculation is:
<img class="math" src="../../../_images/math/7c1cdcb82e8e5dd78177eea2db3c9d64ac518afa.svg" alt="\frac{\text{F1 model} - \text{F1 naive}}{1 - \text{F1 naive}}"/></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All the PPS parameters can be changed by passing to the check the parameter <code class="docutils literal notranslate"><span class="pre">ppscore_params</span></code></p>
</div>
<p>For further information about PPS you can visit the <a class="reference external" href="https://github.com/8080labs/ppscore">ppscore github</a>
or the following blog post: <a class="reference external" href="https://towardsdatascience.com/rip-correlation-introducing-the-predictive-power-score-3d90808b9598">RIP correlation. Introducing the Predictive Power Score</a></p>
</section>
</section>
<section id="run-the-check-on-a-classification-task">
<h2>Run the check on a Classification task<a class="headerlink" href="#run-the-check-on-a-classification-task" title="Permalink to this headline">#</a></h2>
<section id="loading-data-mnist">
<h3>Loading data (MNIST)<a class="headerlink" href="#loading-data-mnist" title="Permalink to this headline">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this example, we use the pytorch version of the mnist dataset and model. In order to run this example using
tensorflow, please change the import statements to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">deepchecks.vision.datasets.classification.mnist_tensorflow</span> <span class="kn">import</span> <a href="../../../api/generated/deepchecks.vision.datasets.detection.coco_torch.load_dataset.html#deepchecks.vision.datasets.detection.coco_torch.load_dataset" title="deepchecks.vision.datasets.detection.coco_torch.load_dataset" class="sphx-glr-backref-module-deepchecks-vision-datasets-detection-coco_torch sphx-glr-backref-type-py-function"><span class="n">load_dataset</span></a>
</pre></div>
</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">deepchecks.vision.checks</span> <span class="kn">import</span> <a href="../../../api/deepchecks.vision.html#deepchecks.vision.TrainTestCheck" title="deepchecks.vision.TrainTestCheck" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class"><span class="n">PropertyLabelCorrelationChange</span></a>
<span class="kn">from</span> <span class="nn">deepchecks.vision.datasets.classification.mnist_torch</span> <span class="kn">import</span> <a href="../../../api/generated/deepchecks.vision.datasets.detection.coco_torch.load_dataset.html#deepchecks.vision.datasets.detection.coco_torch.load_dataset" title="deepchecks.vision.datasets.detection.coco_torch.load_dataset" class="sphx-glr-backref-module-deepchecks-vision-datasets-detection-coco_torch sphx-glr-backref-type-py-function"><span class="n">load_dataset</span></a>

<a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">train_ds</span></a> <span class="o">=</span> <a href="../../../api/generated/deepchecks.vision.datasets.detection.coco_torch.load_dataset.html#deepchecks.vision.datasets.detection.coco_torch.load_dataset" title="deepchecks.vision.datasets.detection.coco_torch.load_dataset" class="sphx-glr-backref-module-deepchecks-vision-datasets-detection-coco_torch sphx-glr-backref-type-py-function"><span class="n">load_dataset</span></a><span class="p">(</span><span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">object_type</span><span class="o">=</span><span class="s1">&#39;VisionData&#39;</span><span class="p">)</span>
<a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">test_ds</span></a> <span class="o">=</span> <a href="../../../api/generated/deepchecks.vision.datasets.detection.coco_torch.load_dataset.html#deepchecks.vision.datasets.detection.coco_torch.load_dataset" title="deepchecks.vision.datasets.detection.coco_torch.load_dataset" class="sphx-glr-backref-module-deepchecks-vision-datasets-detection-coco_torch sphx-glr-backref-type-py-function"><span class="n">load_dataset</span></a><span class="p">(</span><span class="n">train</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">object_type</span><span class="o">=</span><span class="s1">&#39;VisionData&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="insert-bias">
<h3>Insert bias<a class="headerlink" href="#insert-bias" title="Permalink to this headline">#</a></h3>
<p>Let’s see what happens when we insert bias into the dataset.</p>
<p>Specifically, we’re going to change the pixel values of the image depending
on the label (0 to 9) so there is a correlation between brightness of image
and the label (also a small correlation of the index)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">generate_collate_function_with_leakage</span><span class="p">(</span><span class="n">collate_fn</span><span class="p">,</span> <span class="n">mod</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">collate_function_with_leakage</span><span class="p">(</span><span class="n">batch</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create function which inverse the data normalization.&quot;&quot;&quot;</span>
        <span class="n">batch_dict</span> <span class="o">=</span> <span class="n">collate_fn</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span>
        <span class="n">images</span> <span class="o">=</span> <span class="n">batch_dict</span><span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">]</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="n">batch_dict</span><span class="p">[</span><span class="s1">&#39;labels&#39;</span><span class="p">]</span>
        <span class="c1"># add some label/index correlation</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">labels</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="n">mod</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">images</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">images</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

        <span class="n">batch_dict</span><span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">images</span>
        <span class="k">return</span> <span class="n">batch_dict</span>
    <span class="k">return</span> <span class="n">collate_function_with_leakage</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">train_ds</span></a><span class="o">.</span><span class="n">_batch_loader</span><span class="o">.</span><span class="n">collate_fn</span> <span class="o">=</span> <span class="n">generate_collate_function_with_leakage</span><span class="p">(</span><a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">train_ds</span></a><span class="o">.</span><span class="n">_batch_loader</span><span class="o">.</span><span class="n">collate_fn</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">test_ds</span></a><span class="o">.</span><span class="n">_batch_loader</span><span class="o">.</span><span class="n">collate_fn</span> <span class="o">=</span> <span class="n">generate_collate_function_with_leakage</span><span class="p">(</span><a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">test_ds</span></a><span class="o">.</span><span class="n">_batch_loader</span><span class="o">.</span><span class="n">collate_fn</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="run-the-check">
<h3>Run the check<a class="headerlink" href="#run-the-check" title="Permalink to this headline">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">check</span> <span class="o">=</span> <a href="../../../api/deepchecks.vision.html#deepchecks.vision.TrainTestCheck" title="deepchecks.vision.TrainTestCheck" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class"><span class="n">PropertyLabelCorrelationChange</span></a><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <a href="../../../api/deepchecks.vision.html#deepchecks.vision.TrainTestCheck.run" title="deepchecks.vision.TrainTestCheck.run" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-method"><span class="n">check</span><span class="o">.</span><span class="n">run</span></a><span class="p">(</span><a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">train_ds</span></a><span class="p">,</span> <a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">test_ds</span></a><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Processing Train Batches:
|     | 0/1 [Time: 00:00]
Processing Train Batches:
|#####| 1/1 [Time: 00:01]
Processing Train Batches:
|#####| 1/1 [Time: 00:01]

Processing Test Batches:
|     | 0/1 [Time: 00:00]

Processing Test Batches:
|#####| 1/1 [Time: 00:06]

Processing Test Batches:
|#####| 1/1 [Time: 00:06]


Computing Check:
|     | 0/1 [Time: 00:00]


Computing Check:
|#####| 1/1 [Time: 00:01]


Computing Check:
|#####| 1/1 [Time: 00:01]
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<!--
    ~ ----------------------------------------------------------------------------
    ~ Copyright (C) 2021-2023 Deepchecks (https://www.deepchecks.com)
    ~
    ~ This file is part of Deepchecks.
    ~ Deepchecks is distributed under the terms of the GNU Affero General
    ~ Public License (version 3 or later).
    ~ You should have received a copy of the GNU Affero General Public License
    ~ along with Deepchecks.  If not, see <http://www.gnu.org/licenses/>.
    ~ ----------------------------------------------------------------------------
    ~
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Property Label Correlation Change</title>
    <link rel="icon" type="image/x-icon" href="https://deepchecks.com/wp-content/themes/deepchecks/assets/favicons/favicon.ico">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
            font-size: 1rem;
            line-height: 1.5;
            color: #212529;
            text-align: left;
            max-width: 1200px;
            margin: auto;
            background-color: white;
        }

        div.nbinput.container div.prompt *,
        div.nboutput.container div.prompt *,
        div.nbinput.container div.input_area pre,
        div.nboutput.container div.output_area pre,
        div.nbinput.container div.input_area .highlight,
        div.nboutput.container div.output_area .highlight {
            border: none;
            padding: 0;
            margin: 0;
            box-shadow: none;
        }

        div.nbinput.container > div[class*=highlight],
        div.nboutput.container > div[class*=highlight] {
            margin: 0;
        }

        div.nbinput.container div.prompt *,
        div.nboutput.container div.prompt * {
            background: none;
        }

        div.nboutput.container div.output_area .highlight,
        div.nboutput.container div.output_area pre {
            background: unset;
        }

        div.nboutput.container div.output_area div.highlight {
            color: unset;  /* override Pygments text color */
        }

        /* avoid gaps between output lines */
        div.nboutput.container div[class*=highlight] pre {
            line-height: normal;
        }

        /* input/output containers */
        div.nbinput.container,
        div.nboutput.container {
            display: -webkit-flex;
            display: flex;
            align-items: flex-start;
            margin: 0;
            width: 100%;
        }
        @media (max-width: 540px) {
            div.nbinput.container,
            div.nboutput.container {
                flex-direction: column;
            }
        }

        /* input container */
        div.nbinput.container {
            padding-top: 5px;
        }

        /* last container */
        div.nblast.container {
            padding-bottom: 5px;
        }

        /* input prompt */
        div.nbinput.container div.prompt pre {
            color: #307FC1;
        }

        /* output prompt */
        div.nboutput.container div.prompt pre {
            color: #BF5B3D;
        }

        /* all prompts */
        div.nbinput.container div.prompt,
        div.nboutput.container div.prompt {
            width: 4.5ex;
            padding-top: 5px;
            position: relative;
            user-select: none;
        }

        div.nbinput.container div.prompt > div,
        div.nboutput.container div.prompt > div {
            position: absolute;
            right: 0;
            margin-right: 0.3ex;
        }

        @media (max-width: 540px) {
            div.nbinput.container div.prompt,
            div.nboutput.container div.prompt {
                width: unset;
                text-align: left;
                padding: 0.4em;
            }
            div.nboutput.container div.prompt.empty {
                padding: 0;
            }

            div.nbinput.container div.prompt > div,
            div.nboutput.container div.prompt > div {
                position: unset;
            }
        }

        /* disable scrollbars on prompts */
        div.nbinput.container div.prompt pre,
        div.nboutput.container div.prompt pre {
            overflow: hidden;
        }

        /* input/output area */
        div.nbinput.container div.input_area,
        div.nboutput.container div.output_area {
            -webkit-flex: 1;
            flex: 1;
            overflow: auto;
        }
        @media (max-width: 540px) {
            div.nbinput.container div.input_area,
            div.nboutput.container div.output_area {
                width: 100%;
            }
        }

        /* input area */
        div.nbinput.container div.input_area {
            border: 1px solid #e0e0e0;
            border-radius: 2px;
            /*background: #f5f5f5;*/
        }

        /* override MathJax center alignment in output cells */
        div.nboutput.container div[class*=MathJax] {
            text-align: left !important;
        }

        /* override sphinx.ext.imgmath center alignment in output cells */
        div.nboutput.container div.math p {
            text-align: left;
        }

        /* standard error */
        div.nboutput.container div.output_area.stderr {
            background: #fdd;
        }

        /* ANSI colors */
        .ansi-black-fg { color: #3E424D; }
        .ansi-black-bg { background-color: #3E424D; }
        .ansi-black-intense-fg { color: #282C36; }
        .ansi-black-intense-bg { background-color: #282C36; }
        .ansi-red-fg { color: #E75C58; }
        .ansi-red-bg { background-color: #E75C58; }
        .ansi-red-intense-fg { color: #B22B31; }
        .ansi-red-intense-bg { background-color: #B22B31; }
        .ansi-green-fg { color: #00A250; }
        .ansi-green-bg { background-color: #00A250; }
        .ansi-green-intense-fg { color: #007427; }
        .ansi-green-intense-bg { background-color: #007427; }
        .ansi-yellow-fg { color: #DDB62B; }
        .ansi-yellow-bg { background-color: #DDB62B; }
        .ansi-yellow-intense-fg { color: #B27D12; }
        .ansi-yellow-intense-bg { background-color: #B27D12; }
        .ansi-blue-fg { color: #208FFB; }
        .ansi-blue-bg { background-color: #208FFB; }
        .ansi-blue-intense-fg { color: #0065CA; }
        .ansi-blue-intense-bg { background-color: #0065CA; }
        .ansi-magenta-fg { color: #D160C4; }
        .ansi-magenta-bg { background-color: #D160C4; }
        .ansi-magenta-intense-fg { color: #A03196; }
        .ansi-magenta-intense-bg { background-color: #A03196; }
        .ansi-cyan-fg { color: #60C6C8; }
        .ansi-cyan-bg { background-color: #60C6C8; }
        .ansi-cyan-intense-fg { color: #258F8F; }
        .ansi-cyan-intense-bg { background-color: #258F8F; }
        .ansi-white-fg { color: #C5C1B4; }
        .ansi-white-bg { background-color: #C5C1B4; }
        .ansi-white-intense-fg { color: #A1A6B2; }
        .ansi-white-intense-bg { background-color: #A1A6B2; }

        .ansi-default-inverse-fg { color: #FFFFFF; }
        .ansi-default-inverse-bg { background-color: #000000; }

        .ansi-bold { font-weight: bold; }
        .ansi-underline { text-decoration: underline; }


        div.nbinput.container div.input_area div[class*=highlight] > pre,
        div.nboutput.container div.output_area div[class*=highlight] > pre,
        div.nboutput.container div.output_area div[class*=highlight].math,
        div.nboutput.container div.output_area.rendered_html,
        div.nboutput.container div.output_area > div.output_javascript,
        div.nboutput.container div.output_area:not(.rendered_html) > img{
            padding: 5px;
            margin: 0;
        }

        /* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
        div.nbinput.container div.input_area > div[class^='highlight'],
        div.nboutput.container div.output_area > div[class^='highlight']{
            overflow-y: hidden;
        }

        /* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
        .prompt .copybtn {
            display: none;
        }

        /* Some additional styling taken form the Jupyter notebook CSS */
        div.rendered_html table {
        border: none;
        border-collapse: collapse;
        border-spacing: 0;
        color: black;
        font-size: 12px;
        table-layout: fixed;
        }
        div.rendered_html thead {
        border-bottom: 1px solid black;
        vertical-align: bottom;
        }
        div.rendered_html tr,
        div.rendered_html th,
        div.rendered_html td {
        text-align: right;
        vertical-align: middle;
        padding: 0.5em 0.5em;
        line-height: normal;
        white-space: normal;
        max-width: none;
        border: none;
        }
        div.rendered_html th {
        font-weight: bold;
        }
        div.rendered_html tbody tr:nth-child(odd) {
        background: #f5f5f5;
        }
        div.rendered_html tbody tr:hover {
        background: rgba(66, 165, 245, 0.2);
        }
    </style>
</head>
<body>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed.js" crossorigin="anonymous"></script>


<script type="application/vnd.jupyter.widget-state+json">
{"version_major": 2, "version_minor": 0, "state": {"0b258556050c4f6da6bd077d3c237bc0": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["rendered_html", "jp-RenderedHTMLCommon", "jp-RenderedHTML", "jp-OutputArea-output"], "children": ["IPY_MODEL_1bd73e7afcbd487dad1381ec0a437a30", "IPY_MODEL_882bc51372ec49f885653e423a9e19ca", "IPY_MODEL_549aa580b176453894a0fff0ced4b5b5", "IPY_MODEL_a512c1d52733446bbee502f3c959dcfc"], "layout": "IPY_MODEL_06e051c902fa4006b8e025aec07ada12"}}, "1bd73e7afcbd487dad1381ec0a437a30": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_e67dda19bd054d158ef377b6fde24d13", "style": "IPY_MODEL_2523008e83f04768bdc7348ebac59db6", "value": "<h4><b>Property Label Correlation Change</b></h4>"}}, "e67dda19bd054d158ef377b6fde24d13": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "2523008e83f04768bdc7348ebac59db6": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "882bc51372ec49f885653e423a9e19ca": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_98ba497a8f804ea5864bd24575df90aa", "style": "IPY_MODEL_8a4430b6f66e42819fa376188e6f712b", "value": "<p>    Return the Predictive Power Score of image properties, in order to estimate their ability to predict the label. <a href=\"https://docs.deepchecks.com/0.13/vision/auto_checks/train_test_validation/plot_property_label_correlation_change.html?utm_source=display_output&utm_medium=referral&utm_campaign=check_link\" target=\"_blank\">Read More...</a></p>"}}, "98ba497a8f804ea5864bd24575df90aa": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "8a4430b6f66e42819fa376188e6f712b": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "549aa580b176453894a0fff0ced4b5b5": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_f69340c47ff3404e96c0e3dd022da0ea", "style": "IPY_MODEL_23e83c383e5d4bca844e6bb7fce1d622"}}, "f69340c47ff3404e96c0e3dd022da0ea": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "23e83c383e5d4bca844e6bb7fce1d622": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "a512c1d52733446bbee502f3c959dcfc": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "children": ["IPY_MODEL_be0cf1e44d4f47ffbf361d2a8ad5bee8", "IPY_MODEL_8ad29938264e490d82df526f29a9ecfa", "IPY_MODEL_a162232c48574f63976f00f7a4f27cfd", "IPY_MODEL_1327ab5af729464299655a3fa8d63752", "IPY_MODEL_0e3ded11b3f641dba24bf0708d94cc0c", "IPY_MODEL_8e2545d2f23a4a7aa2e31f278c6c210f", "IPY_MODEL_7bece8b60ee4483c8c00e9c723eb4729", "IPY_MODEL_a523abcf29bd4248ad69f2559a53352b", "IPY_MODEL_84f7684969e5450f82c554f864d84323", "IPY_MODEL_979f27f696ce4a5888b310e8b860b86d", "IPY_MODEL_04500ea0fbca453e8b69d0688f2e0687", "IPY_MODEL_0fc7d73d7c4348488b77d461dbaff5b0"], "layout": "IPY_MODEL_4873439064714d7ba60b1fce5fe38e16"}}, "be0cf1e44d4f47ffbf361d2a8ad5bee8": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_b11f97e4637b4644847b46bd65f5baa5", "style": "IPY_MODEL_42dd8e064ba44d81bd63221e245fdc8b", "value": "<h5><b>Additional Outputs</b></h5>"}}, "b11f97e4637b4644847b46bd65f5baa5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "42dd8e064ba44d81bd63221e245fdc8b": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "8ad29938264e490d82df526f29a9ecfa": {"model_name": "FigureModel", "model_module": "jupyterlab-plotly", "model_module_version": "^5.14.1", "state": {"_config": {"plotlyServerURL": "https://plot.ly"}, "_data": [{"marker": {"color": "#00008b"}, "name": "Train", "text": ["<b>0.8</b>", "<b>0.78</b>", "<b>0.81</b>"], "textposition": "outside", "x": ["5", "7", "0"], "y": {"dtype": "float64", "shape": [3]}, "type": "bar", "uid": "b34ecb1a-ac78-4375-b9ba-3ea594c71b8c"}, {"marker": {"color": "#69b3a2"}, "name": "Test", "text": ["<b>0.0</b>", "<b>0.15</b>", "<b>0.22</b>"], "textposition": "outside", "x": ["5", "7", "0"], "y": {"dtype": "float64", "shape": [3]}, "type": "bar", "uid": "f1f32d50-cda3-474f-83f4-a16bc58406ac"}], "_dom_classes": [], "_js2py_layoutDelta": {}, "_js2py_pointsCallback": {}, "_js2py_relayout": {}, "_js2py_restyle": {}, "_js2py_traceDeltas": {}, "_js2py_update": {}, "_layout": {"barmode": "group", "height": 500, "legend": {"x": 1.0, "y": 1.0}, "template": {"data": {"barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Brightness: Predictive Power Score (PPS) Per Class"}, "xaxis": {"range": [-3, 5], "title": {"text": "Class"}, "type": "category"}, "yaxis": {"range": [0, 1.05], "title": {"text": "Predictive Power Score (PPS)"}}}, "_py2js_addTraces": {}, "_py2js_animate": {}, "_py2js_deleteTraces": {}, "_py2js_moveTraces": {}, "_py2js_relayout": {}, "_py2js_removeLayoutProps": {}, "_py2js_removeTraceProps": {}, "_py2js_restyle": {}, "_py2js_update": {}, "_view_count": 0}, "buffers": [{"encoding": "base64", "path": ["_data", 0, "y", "buffer"], "data": "pmj/UKd16T/hz4Q/E/7oPxRcye35/ek/"}, {"encoding": "base64", "path": ["_data", 1, "y", "buffer"], "data": "AAAAAAAAAACcfvrpp5/CPxjKayivocw/"}]}, "a162232c48574f63976f00f7a4f27cfd": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_89f0726d9537489fa8cea139ec0bc9a3", "style": "IPY_MODEL_7ef32de4970e43f8bcafa7a7f020e095", "value": "<div>The Predictive Power Score (PPS) is used to estimate the ability of an image property (such as brightness)to predict the label by itself. (Read more about <a href=https://docs.deepchecks.com/stable/vision/auto_checks/train_test_validation/plot_feature_label_correlation_change.html target=\"_blank\">Predictive Power Score</a>)</div>"}}, "89f0726d9537489fa8cea139ec0bc9a3": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "7ef32de4970e43f8bcafa7a7f020e095": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "1327ab5af729464299655a3fa8d63752": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_48cdb803ac6b4fecb5b1d2b504623e42", "style": "IPY_MODEL_dace9fcb03e34ff0b6eb22966092bafc", "value": "<div><u>In the graph above</u>, we should suspect we have problems in our data if:</div>"}}, "48cdb803ac6b4fecb5b1d2b504623e42": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "dace9fcb03e34ff0b6eb22966092bafc": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "0e3ded11b3f641dba24bf0708d94cc0c": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_499157bec89c4553a4b1a05c4616586c", "style": "IPY_MODEL_252dfd2685374c5786913d93570494c9", "value": "<div>1. <b>Train dataset PPS values are high</b>:</div>"}}, "499157bec89c4553a4b1a05c4616586c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "252dfd2685374c5786913d93570494c9": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "8e2545d2f23a4a7aa2e31f278c6c210f": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_463626048caa453b9242c39fce7f349e", "style": "IPY_MODEL_0a6c1f8e92a049e4a9d7ec18dbab3d1b", "value": "<div>   A high PPS (close to 1) can mean that there's a bias in the dataset, as a single property can predict   the label successfully, using simple classic ML algorithms</div>"}}, "463626048caa453b9242c39fce7f349e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "0a6c1f8e92a049e4a9d7ec18dbab3d1b": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "7bece8b60ee4483c8c00e9c723eb4729": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_c77cb428ec6a4632930b53c97af1e309", "style": "IPY_MODEL_9b2d169e9df744dc810d8c3e54080de2", "value": "<div>2. <b>Large difference between train and test PPS</b> (train PPS is larger):</div>"}}, "c77cb428ec6a4632930b53c97af1e309": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "9b2d169e9df744dc810d8c3e54080de2": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "a523abcf29bd4248ad69f2559a53352b": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_03faa167f774410da89d2fba5d0536de", "style": "IPY_MODEL_788559c7160d4840a589ac250a34512f", "value": "<div>   An even more powerful indication of dataset bias, as an image property that was powerful in train</div>"}}, "03faa167f774410da89d2fba5d0536de": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "788559c7160d4840a589ac250a34512f": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "84f7684969e5450f82c554f864d84323": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_6eb943f1a7b34508bd53775bc91d9a06", "style": "IPY_MODEL_7fd2f95740c24800b3784742bd520da5", "value": "<div>   but not in test can be explained by bias in train that is not relevant to a new dataset.</div>"}}, "6eb943f1a7b34508bd53775bc91d9a06": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "7fd2f95740c24800b3784742bd520da5": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "979f27f696ce4a5888b310e8b860b86d": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_2b2d085670db4ff4af51f1039f73c05e", "style": "IPY_MODEL_1940c48e5b7f45ae80999de80fe990e0", "value": "<div>3. <b>Large difference between test and train PPS</b> (test PPS is larger):</div>"}}, "2b2d085670db4ff4af51f1039f73c05e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "1940c48e5b7f45ae80999de80fe990e0": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "04500ea0fbca453e8b69d0688f2e0687": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_d2b0bec2c99c4258ae559e53ba616012", "style": "IPY_MODEL_99c5ef47394148d28af3e6cc97818125", "value": "<div>   An anomalous value, could indicate drift in test dataset that caused a coincidental correlation to the target label.</div>"}}, "d2b0bec2c99c4258ae559e53ba616012": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "99c5ef47394148d28af3e6cc97818125": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "0fc7d73d7c4348488b77d461dbaff5b0": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_a57e907cc7b44312b0148c6f3c46cbf3", "style": "IPY_MODEL_f44a0fb6d6734185bdcd444815c31b2a", "value": "<div><p style=\"font-size:0.9em;line-height:1;\"><i>Note - data sampling: Sampling procedure took place in <b>Train</b> dataset, check used 10000 images from the original dataset.</br> Sample size can be controlled with the \"n_samples\" parameter.</i></p></div>"}}, "a57e907cc7b44312b0148c6f3c46cbf3": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "f44a0fb6d6734185bdcd444815c31b2a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "4873439064714d7ba60b1fce5fe38e16": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "06e051c902fa4006b8e025aec07ada12": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}}}
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "0b258556050c4f6da6bd077d3c237bc0"}
</script>

</body>
</html>
</div>
<br />
<br /><p>To display the results in an IDE like PyCharm, you can use the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#  result.show_in_window()</span>
</pre></div>
</div>
<p>The result will be displayed in a new window.</p>
<p>We can see that the check detected the bias we inserted, and that the
brightness property of the image has a high PPS in train and then nearly none in test, implying that there might have
been some leakage in the train dataset.</p>
</section>
</section>
<section id="run-the-check-on-an-object-detection-task">
<h2>Run the check on an Object Detection task<a class="headerlink" href="#run-the-check-on-an-object-detection-task" title="Permalink to this headline">#</a></h2>
<section id="loading-data-coco">
<h3>Loading data (COCO)<a class="headerlink" href="#loading-data-coco" title="Permalink to this headline">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this example, we use the pytorch version of the coco dataset and model. In order to run this example using
tensorflow, please change the import statements to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">deepchecks.vision.datasets.detection.coco_tensorflow</span> <span class="kn">import</span> <a href="../../../api/generated/deepchecks.vision.datasets.detection.coco_torch.load_dataset.html#deepchecks.vision.datasets.detection.coco_torch.load_dataset" title="deepchecks.vision.datasets.detection.coco_torch.load_dataset" class="sphx-glr-backref-module-deepchecks-vision-datasets-detection-coco_torch sphx-glr-backref-type-py-function"><span class="n">load_dataset</span></a>
</pre></div>
</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">deepchecks.vision.datasets.detection.coco_torch</span> <span class="kn">import</span> <a href="../../../api/generated/deepchecks.vision.datasets.detection.coco_torch.load_dataset.html#deepchecks.vision.datasets.detection.coco_torch.load_dataset" title="deepchecks.vision.datasets.detection.coco_torch.load_dataset" class="sphx-glr-backref-module-deepchecks-vision-datasets-detection-coco_torch sphx-glr-backref-type-py-function"><span class="n">load_dataset</span></a>

<a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">train_ds</span></a> <span class="o">=</span> <a href="../../../api/generated/deepchecks.vision.datasets.detection.coco_torch.load_dataset.html#deepchecks.vision.datasets.detection.coco_torch.load_dataset" title="deepchecks.vision.datasets.detection.coco_torch.load_dataset" class="sphx-glr-backref-module-deepchecks-vision-datasets-detection-coco_torch sphx-glr-backref-type-py-function"><span class="n">load_dataset</span></a><span class="p">(</span><span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">object_type</span><span class="o">=</span><span class="s1">&#39;VisionData&#39;</span><span class="p">)</span>
<a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">test_ds</span></a> <span class="o">=</span> <a href="../../../api/generated/deepchecks.vision.datasets.detection.coco_torch.load_dataset.html#deepchecks.vision.datasets.detection.coco_torch.load_dataset" title="deepchecks.vision.datasets.detection.coco_torch.load_dataset" class="sphx-glr-backref-module-deepchecks-vision-datasets-detection-coco_torch sphx-glr-backref-type-py-function"><span class="n">load_dataset</span></a><span class="p">(</span><span class="n">train</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">object_type</span><span class="o">=</span><span class="s1">&#39;VisionData&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1">
<h3>Insert bias<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h3>
<p>Let’s now see what happens when we insert bias into the dataset.</p>
<p>Specifically, we’re going to change the pixel values of parts of the image
(where the bounding boxes are), so there is a correlation between brightness
of image and the label</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Increase the pixel values of all bounding boxes by the labels value:</span>

<span class="k">def</span> <span class="nf">generate_collate_function_with_leakage_coco</span><span class="p">(</span><span class="n">collate_fn</span><span class="p">,</span> <span class="n">mod</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">collate_function_with_leakage_coco</span><span class="p">(</span><span class="n">batch</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
        <span class="n">batch_dict</span> <span class="o">=</span> <span class="n">collate_fn</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span>
        <span class="n">images</span> <span class="o">=</span> <span class="n">batch_dict</span><span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">]</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="n">batch_dict</span><span class="p">[</span><span class="s1">&#39;labels&#39;</span><span class="p">]</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">images</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">labels</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">labels</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="n">mod</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">:</span>
                    <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">label</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
                    <span class="n">ret</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">y</span><span class="p">:</span><span class="n">y</span><span class="o">+</span><span class="n">h</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">+</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">ret</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">y</span><span class="p">:</span><span class="n">y</span><span class="o">+</span><span class="n">h</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">+</span><span class="n">w</span><span class="p">]</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">label</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">255</span><span class="p">)</span>
        <span class="n">batch_dict</span><span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ret</span>
        <span class="k">return</span> <span class="n">batch_dict</span>
    <span class="k">return</span> <span class="n">collate_function_with_leakage_coco</span>


<a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">train_ds</span></a><span class="o">.</span><span class="n">_batch_loader</span><span class="o">.</span><span class="n">collate_fn</span> <span class="o">=</span> <span class="n">generate_collate_function_with_leakage_coco</span><span class="p">(</span><a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">train_ds</span></a><span class="o">.</span><span class="n">_batch_loader</span><span class="o">.</span><span class="n">collate_fn</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">test_ds</span></a><span class="o">.</span><span class="n">_batch_loader</span><span class="o">.</span><span class="n">collate_fn</span> <span class="o">=</span> <span class="n">generate_collate_function_with_leakage_coco</span><span class="p">(</span><a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">test_ds</span></a><span class="o">.</span><span class="n">_batch_loader</span><span class="o">.</span><span class="n">collate_fn</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id2">
<h3>Run the check<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">check</span> <span class="o">=</span> <a href="../../../api/deepchecks.vision.html#deepchecks.vision.TrainTestCheck" title="deepchecks.vision.TrainTestCheck" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class"><span class="n">PropertyLabelCorrelationChange</span></a><span class="p">(</span><span class="n">per_class</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <a href="../../../api/deepchecks.vision.html#deepchecks.vision.TrainTestCheck.run" title="deepchecks.vision.TrainTestCheck.run" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-method"><span class="n">check</span><span class="o">.</span><span class="n">run</span></a><span class="p">(</span><a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">train_ds</span></a><span class="p">,</span> <a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">test_ds</span></a><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Processing Train Batches:
|     | 0/1 [Time: 00:00]
Processing Train Batches:
|#####| 1/1 [Time: 00:00]
Processing Train Batches:
|#####| 1/1 [Time: 00:00]

Processing Test Batches:
|     | 0/1 [Time: 00:00]

Processing Test Batches:
|#####| 1/1 [Time: 00:00]

Processing Test Batches:
|#####| 1/1 [Time: 00:00]


Computing Check:
|     | 0/1 [Time: 00:00]


Computing Check:
|#####| 1/1 [Time: 00:00]


Computing Check:
|#####| 1/1 [Time: 00:00]
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<!--
    ~ ----------------------------------------------------------------------------
    ~ Copyright (C) 2021-2023 Deepchecks (https://www.deepchecks.com)
    ~
    ~ This file is part of Deepchecks.
    ~ Deepchecks is distributed under the terms of the GNU Affero General
    ~ Public License (version 3 or later).
    ~ You should have received a copy of the GNU Affero General Public License
    ~ along with Deepchecks.  If not, see <http://www.gnu.org/licenses/>.
    ~ ----------------------------------------------------------------------------
    ~
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Property Label Correlation Change</title>
    <link rel="icon" type="image/x-icon" href="https://deepchecks.com/wp-content/themes/deepchecks/assets/favicons/favicon.ico">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
            font-size: 1rem;
            line-height: 1.5;
            color: #212529;
            text-align: left;
            max-width: 1200px;
            margin: auto;
            background-color: white;
        }

        div.nbinput.container div.prompt *,
        div.nboutput.container div.prompt *,
        div.nbinput.container div.input_area pre,
        div.nboutput.container div.output_area pre,
        div.nbinput.container div.input_area .highlight,
        div.nboutput.container div.output_area .highlight {
            border: none;
            padding: 0;
            margin: 0;
            box-shadow: none;
        }

        div.nbinput.container > div[class*=highlight],
        div.nboutput.container > div[class*=highlight] {
            margin: 0;
        }

        div.nbinput.container div.prompt *,
        div.nboutput.container div.prompt * {
            background: none;
        }

        div.nboutput.container div.output_area .highlight,
        div.nboutput.container div.output_area pre {
            background: unset;
        }

        div.nboutput.container div.output_area div.highlight {
            color: unset;  /* override Pygments text color */
        }

        /* avoid gaps between output lines */
        div.nboutput.container div[class*=highlight] pre {
            line-height: normal;
        }

        /* input/output containers */
        div.nbinput.container,
        div.nboutput.container {
            display: -webkit-flex;
            display: flex;
            align-items: flex-start;
            margin: 0;
            width: 100%;
        }
        @media (max-width: 540px) {
            div.nbinput.container,
            div.nboutput.container {
                flex-direction: column;
            }
        }

        /* input container */
        div.nbinput.container {
            padding-top: 5px;
        }

        /* last container */
        div.nblast.container {
            padding-bottom: 5px;
        }

        /* input prompt */
        div.nbinput.container div.prompt pre {
            color: #307FC1;
        }

        /* output prompt */
        div.nboutput.container div.prompt pre {
            color: #BF5B3D;
        }

        /* all prompts */
        div.nbinput.container div.prompt,
        div.nboutput.container div.prompt {
            width: 4.5ex;
            padding-top: 5px;
            position: relative;
            user-select: none;
        }

        div.nbinput.container div.prompt > div,
        div.nboutput.container div.prompt > div {
            position: absolute;
            right: 0;
            margin-right: 0.3ex;
        }

        @media (max-width: 540px) {
            div.nbinput.container div.prompt,
            div.nboutput.container div.prompt {
                width: unset;
                text-align: left;
                padding: 0.4em;
            }
            div.nboutput.container div.prompt.empty {
                padding: 0;
            }

            div.nbinput.container div.prompt > div,
            div.nboutput.container div.prompt > div {
                position: unset;
            }
        }

        /* disable scrollbars on prompts */
        div.nbinput.container div.prompt pre,
        div.nboutput.container div.prompt pre {
            overflow: hidden;
        }

        /* input/output area */
        div.nbinput.container div.input_area,
        div.nboutput.container div.output_area {
            -webkit-flex: 1;
            flex: 1;
            overflow: auto;
        }
        @media (max-width: 540px) {
            div.nbinput.container div.input_area,
            div.nboutput.container div.output_area {
                width: 100%;
            }
        }

        /* input area */
        div.nbinput.container div.input_area {
            border: 1px solid #e0e0e0;
            border-radius: 2px;
            /*background: #f5f5f5;*/
        }

        /* override MathJax center alignment in output cells */
        div.nboutput.container div[class*=MathJax] {
            text-align: left !important;
        }

        /* override sphinx.ext.imgmath center alignment in output cells */
        div.nboutput.container div.math p {
            text-align: left;
        }

        /* standard error */
        div.nboutput.container div.output_area.stderr {
            background: #fdd;
        }

        /* ANSI colors */
        .ansi-black-fg { color: #3E424D; }
        .ansi-black-bg { background-color: #3E424D; }
        .ansi-black-intense-fg { color: #282C36; }
        .ansi-black-intense-bg { background-color: #282C36; }
        .ansi-red-fg { color: #E75C58; }
        .ansi-red-bg { background-color: #E75C58; }
        .ansi-red-intense-fg { color: #B22B31; }
        .ansi-red-intense-bg { background-color: #B22B31; }
        .ansi-green-fg { color: #00A250; }
        .ansi-green-bg { background-color: #00A250; }
        .ansi-green-intense-fg { color: #007427; }
        .ansi-green-intense-bg { background-color: #007427; }
        .ansi-yellow-fg { color: #DDB62B; }
        .ansi-yellow-bg { background-color: #DDB62B; }
        .ansi-yellow-intense-fg { color: #B27D12; }
        .ansi-yellow-intense-bg { background-color: #B27D12; }
        .ansi-blue-fg { color: #208FFB; }
        .ansi-blue-bg { background-color: #208FFB; }
        .ansi-blue-intense-fg { color: #0065CA; }
        .ansi-blue-intense-bg { background-color: #0065CA; }
        .ansi-magenta-fg { color: #D160C4; }
        .ansi-magenta-bg { background-color: #D160C4; }
        .ansi-magenta-intense-fg { color: #A03196; }
        .ansi-magenta-intense-bg { background-color: #A03196; }
        .ansi-cyan-fg { color: #60C6C8; }
        .ansi-cyan-bg { background-color: #60C6C8; }
        .ansi-cyan-intense-fg { color: #258F8F; }
        .ansi-cyan-intense-bg { background-color: #258F8F; }
        .ansi-white-fg { color: #C5C1B4; }
        .ansi-white-bg { background-color: #C5C1B4; }
        .ansi-white-intense-fg { color: #A1A6B2; }
        .ansi-white-intense-bg { background-color: #A1A6B2; }

        .ansi-default-inverse-fg { color: #FFFFFF; }
        .ansi-default-inverse-bg { background-color: #000000; }

        .ansi-bold { font-weight: bold; }
        .ansi-underline { text-decoration: underline; }


        div.nbinput.container div.input_area div[class*=highlight] > pre,
        div.nboutput.container div.output_area div[class*=highlight] > pre,
        div.nboutput.container div.output_area div[class*=highlight].math,
        div.nboutput.container div.output_area.rendered_html,
        div.nboutput.container div.output_area > div.output_javascript,
        div.nboutput.container div.output_area:not(.rendered_html) > img{
            padding: 5px;
            margin: 0;
        }

        /* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
        div.nbinput.container div.input_area > div[class^='highlight'],
        div.nboutput.container div.output_area > div[class^='highlight']{
            overflow-y: hidden;
        }

        /* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
        .prompt .copybtn {
            display: none;
        }

        /* Some additional styling taken form the Jupyter notebook CSS */
        div.rendered_html table {
        border: none;
        border-collapse: collapse;
        border-spacing: 0;
        color: black;
        font-size: 12px;
        table-layout: fixed;
        }
        div.rendered_html thead {
        border-bottom: 1px solid black;
        vertical-align: bottom;
        }
        div.rendered_html tr,
        div.rendered_html th,
        div.rendered_html td {
        text-align: right;
        vertical-align: middle;
        padding: 0.5em 0.5em;
        line-height: normal;
        white-space: normal;
        max-width: none;
        border: none;
        }
        div.rendered_html th {
        font-weight: bold;
        }
        div.rendered_html tbody tr:nth-child(odd) {
        background: #f5f5f5;
        }
        div.rendered_html tbody tr:hover {
        background: rgba(66, 165, 245, 0.2);
        }
    </style>
</head>
<body>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed.js" crossorigin="anonymous"></script>


<script type="application/vnd.jupyter.widget-state+json">
{"version_major": 2, "version_minor": 0, "state": {"f920605dd0e842f48bfe5ac2f1e1aa59": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["rendered_html", "jp-RenderedHTMLCommon", "jp-RenderedHTML", "jp-OutputArea-output"], "children": ["IPY_MODEL_17f6a264e2864b5b8fe92daa760429fe", "IPY_MODEL_0e17ba68586641448f509fb114d75cc5", "IPY_MODEL_ee95c834865c46149f424f53f0734321", "IPY_MODEL_1c7224192fa541e4af734c5a2d4e1654"], "layout": "IPY_MODEL_6220cdf8207c40fe9a314d35904d7482"}}, "17f6a264e2864b5b8fe92daa760429fe": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_50049d02a25b4e49a5d1ddfbaf456698", "style": "IPY_MODEL_44c3c55bee02454da3fd7ba771f63560", "value": "<h4><b>Property Label Correlation Change</b></h4>"}}, "50049d02a25b4e49a5d1ddfbaf456698": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "44c3c55bee02454da3fd7ba771f63560": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "0e17ba68586641448f509fb114d75cc5": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_cf33c9283f8346d79ce282bac10135f2", "style": "IPY_MODEL_5d2d5bfabd7a4cedba32da2e208f1b3c", "value": "<p>    Return the Predictive Power Score of image properties, in order to estimate their ability to predict the label. <a href=\"https://docs.deepchecks.com/0.13/vision/auto_checks/train_test_validation/plot_property_label_correlation_change.html?utm_source=display_output&utm_medium=referral&utm_campaign=check_link\" target=\"_blank\">Read More...</a></p>"}}, "cf33c9283f8346d79ce282bac10135f2": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "5d2d5bfabd7a4cedba32da2e208f1b3c": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "ee95c834865c46149f424f53f0734321": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_f140e1710dae4f7bb41815940c45fec9", "style": "IPY_MODEL_6a1543665c0d415681dc88c14381babd"}}, "f140e1710dae4f7bb41815940c45fec9": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "6a1543665c0d415681dc88c14381babd": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "1c7224192fa541e4af734c5a2d4e1654": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "children": ["IPY_MODEL_bb35369c4298445c83c8d77bfda45e63", "IPY_MODEL_3122248c30444da389a0e7692f2f0e33", "IPY_MODEL_55970cc46b354d55a5b80181bab84245", "IPY_MODEL_8f2a281fcee846c5bdcfb6a749c2883f", "IPY_MODEL_9ba66c6830cc4ab3a115015c018ca516", "IPY_MODEL_bafd4f892c3c44fbbefe7d6156c66f3c", "IPY_MODEL_f6df1cf19c6042559fa0030211c7f843", "IPY_MODEL_46647b822cbb421d8002da38600cd9ee", "IPY_MODEL_1b88bcc1649849159ac274ed2569a29f", "IPY_MODEL_3982c791fd4048d4a9d84f2e755c9480", "IPY_MODEL_42286e602ba14fe1b6d53858f2d7eb0f"], "layout": "IPY_MODEL_51d3b8e9c350431cbb1f2744e9405b5b"}}, "bb35369c4298445c83c8d77bfda45e63": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_d2728da722b14771b2cc75ce4e43d507", "style": "IPY_MODEL_7c87e6d534494955a47d604bd223e91a", "value": "<h5><b>Additional Outputs</b></h5>"}}, "d2728da722b14771b2cc75ce4e43d507": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "7c87e6d534494955a47d604bd223e91a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "3122248c30444da389a0e7692f2f0e33": {"model_name": "FigureModel", "model_module": "jupyterlab-plotly", "model_module_version": "^5.14.1", "state": {"_config": {"plotlyServerURL": "https://plot.ly"}, "_data": [{"marker": {"color": "#00008b"}, "name": "Train", "text": ["<b>0.08</b>", "<b>0.03</b>", "<b>0.09</b>"], "textposition": "outside", "x": ["Brightness", "Mean Green Relative Intensity", "Aspect Ratio"], "y": {"dtype": "float64", "shape": [3]}, "type": "bar", "uid": "b1072b74-42f3-4cee-a688-224f690d4bc7"}, {"marker": {"color": "#69b3a2"}, "name": "Test", "text": ["<b>0.04</b>", "<b>0.0</b>", "<b>0.12</b>"], "textposition": "outside", "x": ["Brightness", "Mean Green Relative Intensity", "Aspect Ratio"], "y": {"dtype": "float64", "shape": [3]}, "type": "bar", "uid": "22cac59e-0ebb-46ad-a46b-0e27e6951951"}], "_dom_classes": [], "_js2py_layoutDelta": {}, "_js2py_pointsCallback": {}, "_js2py_relayout": {}, "_js2py_restyle": {}, "_js2py_traceDeltas": {}, "_js2py_update": {}, "_layout": {"barmode": "group", "height": 500, "legend": {"x": 1.0, "y": 1.0}, "template": {"data": {"barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "barpolar"}], "bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}, "pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "bar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram": [{"marker": {"pattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}}, "type": "histogram"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatter": [{"fillpattern": {"fillmode": "overlay", "size": 10, "solidity": 0.2}, "type": "scatter"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Predictive Power Score (PPS) - Can a feature predict the label by itself?"}, "xaxis": {"range": [-3, 5], "title": {"text": "Column"}, "type": "category"}, "yaxis": {"range": [0, 1.05], "title": {"text": "Predictive Power Score (PPS)"}}}, "_py2js_addTraces": {}, "_py2js_animate": {}, "_py2js_deleteTraces": {}, "_py2js_moveTraces": {}, "_py2js_relayout": {}, "_py2js_removeLayoutProps": {}, "_py2js_removeTraceProps": {}, "_py2js_restyle": {}, "_py2js_update": {}, "_view_count": 0}, "buffers": [{"encoding": "base64", "path": ["_data", 0, "y", "buffer"], "data": "Qft+uBHLtD/c3wQkPkyfPykH5wcYOrc/"}, {"encoding": "base64", "path": ["_data", 1, "y", "buffer"], "data": "iPPO/MBfpD8AAAAAAAAAABXDnyVz1r0/"}]}, "55970cc46b354d55a5b80181bab84245": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_fc141da69b4a467a8e110838e6ac7217", "style": "IPY_MODEL_957a2b9cb62c4775902108ba3dd61dd7", "value": "<div>The Predictive Power Score (PPS) is used to estimate the ability of an image property (such as brightness)to predict the label by itself. (Read more about <a href=https://docs.deepchecks.com/stable/vision/auto_checks/train_test_validation/plot_feature_label_correlation_change.html target=\"_blank\">Predictive Power Score</a>)</div>"}}, "fc141da69b4a467a8e110838e6ac7217": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "957a2b9cb62c4775902108ba3dd61dd7": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "8f2a281fcee846c5bdcfb6a749c2883f": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_378ef2722c284017a5f5f97979138a98", "style": "IPY_MODEL_28578d3c16644c06aae0d639cc958117", "value": "<div><u>In the graph above</u>, we should suspect we have problems in our data if:</div>"}}, "378ef2722c284017a5f5f97979138a98": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "28578d3c16644c06aae0d639cc958117": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "9ba66c6830cc4ab3a115015c018ca516": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_c90578119a4d401abeb241e248adb4da", "style": "IPY_MODEL_cee94b0f95a14a158f5be04db062bb3a", "value": "<div>1. <b>Train dataset PPS values are high</b>:</div>"}}, "c90578119a4d401abeb241e248adb4da": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "cee94b0f95a14a158f5be04db062bb3a": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "bafd4f892c3c44fbbefe7d6156c66f3c": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_a71f336cf74447ec8cf9450e371f2432", "style": "IPY_MODEL_feac97a6f0ea4f11af247d67991a486f", "value": "<div>   A high PPS (close to 1) can mean that there's a bias in the dataset, as a single property can predict   the label successfully, using simple classic ML algorithms</div>"}}, "a71f336cf74447ec8cf9450e371f2432": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "feac97a6f0ea4f11af247d67991a486f": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "f6df1cf19c6042559fa0030211c7f843": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_dae55d45b1b14353bafce49eef30e8a7", "style": "IPY_MODEL_f1b33750737c4867a83c6c5a4fabccc8", "value": "<div>2. <b>Large difference between train and test PPS</b> (train PPS is larger):</div>"}}, "dae55d45b1b14353bafce49eef30e8a7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "f1b33750737c4867a83c6c5a4fabccc8": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "46647b822cbb421d8002da38600cd9ee": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_a95983a8139c4663b2e876b9127f477a", "style": "IPY_MODEL_9631b78d0a53459da15e4c6831845c8f", "value": "<div>   An even more powerful indication of dataset bias, as an image property that was powerful in train</div>"}}, "a95983a8139c4663b2e876b9127f477a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "9631b78d0a53459da15e4c6831845c8f": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "1b88bcc1649849159ac274ed2569a29f": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_be3367c83e2c48e69c73c83c6ffded30", "style": "IPY_MODEL_b9db9f9a2d0a45efa1520e0974e456c0", "value": "<div>   but not in test can be explained by bias in train that is not relevant to a new dataset.</div>"}}, "be3367c83e2c48e69c73c83c6ffded30": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "b9db9f9a2d0a45efa1520e0974e456c0": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "3982c791fd4048d4a9d84f2e755c9480": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_e8c3155c26fa4b339fceb79ef4503523", "style": "IPY_MODEL_0fc42006f4be416cbc0bec8bf0f4ffaa", "value": "<div>3. <b>Large difference between test and train PPS</b> (test PPS is larger):</div>"}}, "e8c3155c26fa4b339fceb79ef4503523": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "0fc42006f4be416cbc0bec8bf0f4ffaa": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "42286e602ba14fe1b6d53858f2d7eb0f": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_11031e9592d349f2b76f1a52a9edf636", "style": "IPY_MODEL_5456642fdc1c41fcaeff341d8f6f28be", "value": "<div>   An anomalous value, could indicate drift in test dataset that caused a coincidental correlation to the target label.</div>"}}, "11031e9592d349f2b76f1a52a9edf636": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "5456642fdc1c41fcaeff341d8f6f28be": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "51d3b8e9c350431cbb1f2744e9405b5b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "6220cdf8207c40fe9a314d35904d7482": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}}}
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "f920605dd0e842f48bfe5ac2f1e1aa59"}
</script>

</body>
</html>
</div>
<br />
<br /><p>We can see that the check detected the bias we inserted, and that the PPS of the brightness
property has changed, implying that there might have been some leakage in the train dataset.</p>
</section>
</section>
<section id="define-a-condition">
<h2>Define a condition<a class="headerlink" href="#define-a-condition" title="Permalink to this headline">#</a></h2>
<p>We can define on our check a condition that will validate that our pps scores aren’t
too high. The check has 2 possible built-in conditions:</p>
<p><code class="docutils literal notranslate"><span class="pre">add_condition_feature_pps_difference_not_greater_than</span></code> - Validate that the difference in
the PPS between train and test is not larger than defined amount (default 0.2)</p>
<p><code class="docutils literal notranslate"><span class="pre">add_condition_feature_pps_in_train_not_greater_than</span></code> - Validate that the PPS scores on
train dataset are not exceeding a defined amount (default 0.7)</p>
<p>Let’s add the conditions, and re-run the check:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">check</span> <span class="o">=</span> <a href="../../../api/deepchecks.vision.html#deepchecks.vision.TrainTestCheck" title="deepchecks.vision.TrainTestCheck" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class"><span class="n">PropertyLabelCorrelationChange</span></a><span class="p">(</span><span class="n">per_class</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">add_condition_property_pps_difference_less_than</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span> \
        <span class="o">.</span><span class="n">add_condition_property_pps_in_train_less_than</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <a href="../../../api/deepchecks.vision.html#deepchecks.vision.TrainTestCheck.run" title="deepchecks.vision.TrainTestCheck.run" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-method"><span class="n">check</span><span class="o">.</span><span class="n">run</span></a><span class="p">(</span><span class="n">train_dataset</span><span class="o">=</span><a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">train_ds</span></a><span class="p">,</span> <span class="n">test_dataset</span><span class="o">=</span><a href="../../../api/deepchecks.vision.html#deepchecks.vision.VisionData" title="deepchecks.vision.VisionData" class="sphx-glr-backref-module-deepchecks-vision sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">test_ds</span></a><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">show_additional_outputs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Processing Train Batches:
|     | 0/1 [Time: 00:00]
Processing Train Batches:
|#####| 1/1 [Time: 00:00]
Processing Train Batches:
|#####| 1/1 [Time: 00:00]

Processing Test Batches:
|     | 0/1 [Time: 00:00]

Processing Test Batches:
|#####| 1/1 [Time: 00:00]

Processing Test Batches:
|#####| 1/1 [Time: 00:00]


Computing Check:
|     | 0/1 [Time: 00:00]


Computing Check:
|#####| 1/1 [Time: 00:00]


Computing Check:
|#####| 1/1 [Time: 00:00]
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<!--
    ~ ----------------------------------------------------------------------------
    ~ Copyright (C) 2021-2023 Deepchecks (https://www.deepchecks.com)
    ~
    ~ This file is part of Deepchecks.
    ~ Deepchecks is distributed under the terms of the GNU Affero General
    ~ Public License (version 3 or later).
    ~ You should have received a copy of the GNU Affero General Public License
    ~ along with Deepchecks.  If not, see <http://www.gnu.org/licenses/>.
    ~ ----------------------------------------------------------------------------
    ~
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Property Label Correlation Change</title>
    <link rel="icon" type="image/x-icon" href="https://deepchecks.com/wp-content/themes/deepchecks/assets/favicons/favicon.ico">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
            font-size: 1rem;
            line-height: 1.5;
            color: #212529;
            text-align: left;
            max-width: 1200px;
            margin: auto;
            background-color: white;
        }

        div.nbinput.container div.prompt *,
        div.nboutput.container div.prompt *,
        div.nbinput.container div.input_area pre,
        div.nboutput.container div.output_area pre,
        div.nbinput.container div.input_area .highlight,
        div.nboutput.container div.output_area .highlight {
            border: none;
            padding: 0;
            margin: 0;
            box-shadow: none;
        }

        div.nbinput.container > div[class*=highlight],
        div.nboutput.container > div[class*=highlight] {
            margin: 0;
        }

        div.nbinput.container div.prompt *,
        div.nboutput.container div.prompt * {
            background: none;
        }

        div.nboutput.container div.output_area .highlight,
        div.nboutput.container div.output_area pre {
            background: unset;
        }

        div.nboutput.container div.output_area div.highlight {
            color: unset;  /* override Pygments text color */
        }

        /* avoid gaps between output lines */
        div.nboutput.container div[class*=highlight] pre {
            line-height: normal;
        }

        /* input/output containers */
        div.nbinput.container,
        div.nboutput.container {
            display: -webkit-flex;
            display: flex;
            align-items: flex-start;
            margin: 0;
            width: 100%;
        }
        @media (max-width: 540px) {
            div.nbinput.container,
            div.nboutput.container {
                flex-direction: column;
            }
        }

        /* input container */
        div.nbinput.container {
            padding-top: 5px;
        }

        /* last container */
        div.nblast.container {
            padding-bottom: 5px;
        }

        /* input prompt */
        div.nbinput.container div.prompt pre {
            color: #307FC1;
        }

        /* output prompt */
        div.nboutput.container div.prompt pre {
            color: #BF5B3D;
        }

        /* all prompts */
        div.nbinput.container div.prompt,
        div.nboutput.container div.prompt {
            width: 4.5ex;
            padding-top: 5px;
            position: relative;
            user-select: none;
        }

        div.nbinput.container div.prompt > div,
        div.nboutput.container div.prompt > div {
            position: absolute;
            right: 0;
            margin-right: 0.3ex;
        }

        @media (max-width: 540px) {
            div.nbinput.container div.prompt,
            div.nboutput.container div.prompt {
                width: unset;
                text-align: left;
                padding: 0.4em;
            }
            div.nboutput.container div.prompt.empty {
                padding: 0;
            }

            div.nbinput.container div.prompt > div,
            div.nboutput.container div.prompt > div {
                position: unset;
            }
        }

        /* disable scrollbars on prompts */
        div.nbinput.container div.prompt pre,
        div.nboutput.container div.prompt pre {
            overflow: hidden;
        }

        /* input/output area */
        div.nbinput.container div.input_area,
        div.nboutput.container div.output_area {
            -webkit-flex: 1;
            flex: 1;
            overflow: auto;
        }
        @media (max-width: 540px) {
            div.nbinput.container div.input_area,
            div.nboutput.container div.output_area {
                width: 100%;
            }
        }

        /* input area */
        div.nbinput.container div.input_area {
            border: 1px solid #e0e0e0;
            border-radius: 2px;
            /*background: #f5f5f5;*/
        }

        /* override MathJax center alignment in output cells */
        div.nboutput.container div[class*=MathJax] {
            text-align: left !important;
        }

        /* override sphinx.ext.imgmath center alignment in output cells */
        div.nboutput.container div.math p {
            text-align: left;
        }

        /* standard error */
        div.nboutput.container div.output_area.stderr {
            background: #fdd;
        }

        /* ANSI colors */
        .ansi-black-fg { color: #3E424D; }
        .ansi-black-bg { background-color: #3E424D; }
        .ansi-black-intense-fg { color: #282C36; }
        .ansi-black-intense-bg { background-color: #282C36; }
        .ansi-red-fg { color: #E75C58; }
        .ansi-red-bg { background-color: #E75C58; }
        .ansi-red-intense-fg { color: #B22B31; }
        .ansi-red-intense-bg { background-color: #B22B31; }
        .ansi-green-fg { color: #00A250; }
        .ansi-green-bg { background-color: #00A250; }
        .ansi-green-intense-fg { color: #007427; }
        .ansi-green-intense-bg { background-color: #007427; }
        .ansi-yellow-fg { color: #DDB62B; }
        .ansi-yellow-bg { background-color: #DDB62B; }
        .ansi-yellow-intense-fg { color: #B27D12; }
        .ansi-yellow-intense-bg { background-color: #B27D12; }
        .ansi-blue-fg { color: #208FFB; }
        .ansi-blue-bg { background-color: #208FFB; }
        .ansi-blue-intense-fg { color: #0065CA; }
        .ansi-blue-intense-bg { background-color: #0065CA; }
        .ansi-magenta-fg { color: #D160C4; }
        .ansi-magenta-bg { background-color: #D160C4; }
        .ansi-magenta-intense-fg { color: #A03196; }
        .ansi-magenta-intense-bg { background-color: #A03196; }
        .ansi-cyan-fg { color: #60C6C8; }
        .ansi-cyan-bg { background-color: #60C6C8; }
        .ansi-cyan-intense-fg { color: #258F8F; }
        .ansi-cyan-intense-bg { background-color: #258F8F; }
        .ansi-white-fg { color: #C5C1B4; }
        .ansi-white-bg { background-color: #C5C1B4; }
        .ansi-white-intense-fg { color: #A1A6B2; }
        .ansi-white-intense-bg { background-color: #A1A6B2; }

        .ansi-default-inverse-fg { color: #FFFFFF; }
        .ansi-default-inverse-bg { background-color: #000000; }

        .ansi-bold { font-weight: bold; }
        .ansi-underline { text-decoration: underline; }


        div.nbinput.container div.input_area div[class*=highlight] > pre,
        div.nboutput.container div.output_area div[class*=highlight] > pre,
        div.nboutput.container div.output_area div[class*=highlight].math,
        div.nboutput.container div.output_area.rendered_html,
        div.nboutput.container div.output_area > div.output_javascript,
        div.nboutput.container div.output_area:not(.rendered_html) > img{
            padding: 5px;
            margin: 0;
        }

        /* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
        div.nbinput.container div.input_area > div[class^='highlight'],
        div.nboutput.container div.output_area > div[class^='highlight']{
            overflow-y: hidden;
        }

        /* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
        .prompt .copybtn {
            display: none;
        }

        /* Some additional styling taken form the Jupyter notebook CSS */
        div.rendered_html table {
        border: none;
        border-collapse: collapse;
        border-spacing: 0;
        color: black;
        font-size: 12px;
        table-layout: fixed;
        }
        div.rendered_html thead {
        border-bottom: 1px solid black;
        vertical-align: bottom;
        }
        div.rendered_html tr,
        div.rendered_html th,
        div.rendered_html td {
        text-align: right;
        vertical-align: middle;
        padding: 0.5em 0.5em;
        line-height: normal;
        white-space: normal;
        max-width: none;
        border: none;
        }
        div.rendered_html th {
        font-weight: bold;
        }
        div.rendered_html tbody tr:nth-child(odd) {
        background: #f5f5f5;
        }
        div.rendered_html tbody tr:hover {
        background: rgba(66, 165, 245, 0.2);
        }
    </style>
</head>
<body>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed.js" crossorigin="anonymous"></script>


<script type="application/vnd.jupyter.widget-state+json">
{"version_major": 2, "version_minor": 0, "state": {"fe402d21d1ec4ea49d3c04fec0e3d9d2": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": ["rendered_html", "jp-RenderedHTMLCommon", "jp-RenderedHTML", "jp-OutputArea-output"], "children": ["IPY_MODEL_ddaef6e53e5140afa76d0d22cb4e8633", "IPY_MODEL_fd0aa6d7ab154e9481f0369037f01ebf", "IPY_MODEL_bb8083a777954c63846cea0cb1385954"], "layout": "IPY_MODEL_370c44e37f2c4b65912cb3115a44431e"}}, "ddaef6e53e5140afa76d0d22cb4e8633": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_510e1cdf99294653bf1801a39f795d9d", "style": "IPY_MODEL_46f19422bd1a4402ab6f103b26bfc10f", "value": "<h4><b>Property Label Correlation Change</b></h4>"}}, "510e1cdf99294653bf1801a39f795d9d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "46f19422bd1a4402ab6f103b26bfc10f": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "fd0aa6d7ab154e9481f0369037f01ebf": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_09c745b78e514acda4d667125e605634", "style": "IPY_MODEL_c6afc12a815b4a28971c45cb709d7e9c", "value": "<p>    Return the Predictive Power Score of image properties, in order to estimate their ability to predict the label. <a href=\"https://docs.deepchecks.com/0.13/vision/auto_checks/train_test_validation/plot_property_label_correlation_change.html?utm_source=display_output&utm_medium=referral&utm_campaign=check_link\" target=\"_blank\">Read More...</a></p>"}}, "09c745b78e514acda4d667125e605634": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "c6afc12a815b4a28971c45cb709d7e9c": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "bb8083a777954c63846cea0cb1385954": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "layout": "IPY_MODEL_ab9a4c1acd854a55a640402c96fe360e", "style": "IPY_MODEL_a913271e55a24b9d9bf536a5130cb3ab", "value": "<h5><b>Conditions Summary</b></h5><style type=\"text/css\">\n#T_5b928_ table {\n  text-align: left;\n  white-space: pre-wrap;\n}\n#T_5b928_ thead {\n  text-align: left;\n  white-space: pre-wrap;\n}\n#T_5b928_ tbody {\n  text-align: left;\n  white-space: pre-wrap;\n}\n#T_5b928_ th {\n  text-align: left;\n  white-space: pre-wrap;\n}\n#T_5b928_ td {\n  text-align: left;\n  white-space: pre-wrap;\n}\n</style>\n<table id=\"T_5b928_\">\n  <thead>\n    <tr>\n      <th class=\"col_heading level0 col0\" >Status</th>\n      <th class=\"col_heading level0 col1\" >Condition</th>\n      <th class=\"col_heading level0 col2\" >More Info</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td id=\"T_5b928_row0_col0\" class=\"data row0 col0\" ><div style=\"color: green;text-align: center\">\u2713</div></td>\n      <td id=\"T_5b928_row0_col1\" class=\"data row0 col1\" >Train-Test properties' Predictive Power Score difference is less than 0.1</td>\n      <td id=\"T_5b928_row0_col2\" class=\"data row0 col2\" >Found highest PPS 0.04 for property Brightness</td>\n    </tr>\n    <tr>\n      <td id=\"T_5b928_row1_col0\" class=\"data row1 col0\" ><div style=\"color: green;text-align: center\">\u2713</div></td>\n      <td id=\"T_5b928_row1_col1\" class=\"data row1 col1\" >Train properties' Predictive Power Score is less than 0.2</td>\n      <td id=\"T_5b928_row1_col2\" class=\"data row1 col2\" >Found highest PPS in train dataset 0.04 for property Brightness</td>\n    </tr>\n  </tbody>\n</table>\n"}}, "ab9a4c1acd854a55a640402c96fe360e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}, "a913271e55a24b9d9bf536a5130cb3ab": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {}}, "370c44e37f2c4b65912cb3115a44431e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {}}}}
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "fe402d21d1ec4ea49d3c04fec0e3d9d2"}
</script>

</body>
</html>
</div>
<br />
<br /><p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  16.072 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-vision-auto-checks-train-test-validation-plot-property-label-correlation-change-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/eafb8361f2ade6f8b70bcb6274da4e01/plot_property_label_correlation_change.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_property_label_correlation_change.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/37047e4c5255b247973c41b0076b165a/plot_property_label_correlation_change.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_property_label_correlation_change.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


            </div>
        
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="plot_label_drift.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Label Drift</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../model_evaluation/index.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Model Evaluation</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
    </main>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021-2023, Deepchecks.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>