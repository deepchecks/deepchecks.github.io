
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NNKXRJQ');</script>
    <!-- End Google Tag Manager -->
    <meta name="title" content="Data Properties | Deepchecks Documentation" >
    <meta name="description" content="Data Properties | Deepchecks Documentation" >

    <!-- Warning: 
        The 'shortcut link' type is often seen before icon, but this link type is non-conforming, 
        ignored and web authors must not use it anymore. 
        MDN docs https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types
    -->
    <link rel="shortcut icon" href="/_static/favicons/favicon.ico">

    <link rel="icon" href="/_static/favicons/favicon.png" sizes="32x32">
    <link rel="icon" href="/_static/favicons/favicon.png" sizes="192x192">

    <!-- Note: 
        Apple's iOS does not use this 'link' type, nor the 'sizes' attribute, 
        like others mobile browsers do, to select a webpage icon for Web Clip 
        or a start-up placeholder. Instead it uses the non-standard 'apple-touch-icon'.
        MDN docs: https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types;
        Safari Web Content Guide: https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html#//apple_ref/doc/uid/TP40002051-CH3-SW4
    -->
    <link rel="apple-touch-icon" href="/_static/favicons/apple-touch-icon.png" sizes="32x32">
    <link rel="apple-touch-icon" href="/_static/favicons/apple-touch-icon.png" sizes="192x192">
    <!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> -->

    
    <title>Data Properties &#8212; Deepchecks d1e74e5 documentation</title>
    
    <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/pydata-sphinx-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/rtd_sphinx_search.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    
    <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" crossorigin="anonymous"></script>
<script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"
    crossorigin="anonymous"></script>

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Examples" href="../../examples/index.html" />
    <link rel="prev" title="The Object Detection Data Class" href="data-classes/DetectionData.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
    <body>
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NNKXRJQ"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->

    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/deepchecks_logo.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting-started/index.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../tutorials/index.html">
  Tutorials
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../examples/index.html">
  Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../api/index.html">
  API Reference
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-primary btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        dev  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables user-guide/vision/vision_properties and {'json_url': 'https://deepchecks.github.io/dev/_static/switcher.json', 'version_match': 'dev', 'url_template': 'https://deepchecks.github.io/{version}/'}.
-->

<script type="text/javascript">
// Construct the target URL from the JSON components
function buildURL(entry) {
    var template = "https://deepchecks.github.io/{version}/";  // supplied by jinja
    template = template.replace("{version}", entry.version);
    return template;
}

// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "user-guide/vision/vision_properties.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://deepchecks.github.io/dev/_static/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "user-guide/vision/vision_properties.html";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            // get the base URL for that doc version, add the current page's
            // path to it, and set as `href`
            entry.url = buildURL(entry);
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's dev variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "dev") {
                node.classList.add("active");
                $("#version_switcher_button").text(entry.name);
            }
        });
    });
})();
</script>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Quick Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/deepchecks/deepchecks" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://deepcheckscommunity.slack.com/join/shared_invite/zt-y28sjt1v-PBT50S3uoyWui_Deg5L_jg#/shared-invite/email" rel="noopener" target="_blank" title="Slack"><span><i class="fab fa-slack"></i></span>
            <label class="sr-only">Slack</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pypi.org/project/deepchecks/" rel="noopener" target="_blank" title="PyPI"><span><i class="fab fa-python"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <div id="topright-dropdown-menu" class="dropdown" style="width: fit-content;">
    <a 
        class="btn dropdown-toggle" 
        id="topright-dropdown-menu-link" 
        data-toggle="dropdown" 
        aria-haspopup="true" 
        aria-expanded="false"
        data-offset="-100,10">
            <i class="fas fa-bars"></i>
    </a>
    <div class="dropdown-menu" aria-labelledby="topright-dropdown-menu-link" x-placement="bottom-start">
        <a class="dropdown-item" href="https://github.com/deepchecks/deepchecks/issues/new?title=[Docs] Documentation contains a mistake.&body=Package Version: dev;
Page: user-guide/vision/vision_properties&labels=labels=chore/documentation" target="_blank" rel="noopener noreferrer">
            <i class="fas fa-pencil-alt"></i> Report a problem
        </a>
        
            <a 
                
                    href="/_sources/user-guide/vision/vision_properties.rst.txt" 
                
                
                class="dropdown-item" 
                target="_blank" 
                rel="noopener noreferrer">
                <i class="fas fa-code"></i> Show Source
            </a>
        
    </div>
</div>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../general/index.html">
   General
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../general/deepchecks_hierarchy.html">
     Deepchecks Hierarchy
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../general/customizations/index.html">
     Customizations
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../general/customizations/examples/index.html">
       Notebooks
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
      <label for="toctree-checkbox-3">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../general/customizations/examples/plot_create_a_custom_suite.html">
         Create a Custom Suite
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../general/customizations/examples/plot_configure_check_conditions.html">
         Configure Check Conditions
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../general/exporting_results/index.html">
     Exporting Results
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../general/exporting_results/examples/index.html">
       Notebooks
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
      <label for="toctree-checkbox-5">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../general/exporting_results/examples/plot_export_suite_results_as_html.html">
         Export Suite Output to a HTML Report
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../general/exporting_results/examples/plot_exports_output_to_wandb.html">
         Export Outputs to Weights &amp; Biases (wandb)
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../general/exporting_results/examples/plot_export_outputs_to_json.html">
         Export Outputs to JSON
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tabular/index.html">
   Tabular
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tabular/dataset_object.html">
     The Dataset Object
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tabular/supported_models.html">
     Supported Models
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Vision
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="data-classes/index.html">
     Data Classes
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="data-classes/VisionData.html">
       The Vision Data Class
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="data-classes/ClassificationData.html">
       The Classification Data Class
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="data-classes/DetectionData.html">
       The Object Detection Data Class
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Data Properties
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-are-properties-used-for">
   What Are Properties Used For?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deepchecks-built-in-properties">
   Deepchecks’ Built-in Properties
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#property-structure">
   Property Structure
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-method-s-input">
     The Method’s Input
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#properties-demonstration">
   Properties Demonstration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#image-property">
     Image Property
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#label-property">
     Label Property
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prediction-property">
     Prediction Property
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="data-properties">
<h1>Data Properties<a class="headerlink" href="#data-properties" title="Permalink to this headline">¶</a></h1>
<p>Properties are one-dimension values that are extracted from either the images, labels or predictions. For example, an
image property is <strong>brightness</strong>, and a label property is <strong>bounding box area</strong> (for detection tasks).
Deepchecks includes <a class="reference internal" href="#deepchecks-built-in-properties"><span class="std std-ref">built-in properties</span></a> and supports implementing your own
properties.</p>
<section id="what-are-properties-used-for">
<h2>What Are Properties Used For?<a class="headerlink" href="#what-are-properties-used-for" title="Permalink to this headline">¶</a></h2>
<p>Properties are used by some of the Deepchecks’ checks (e.g. train-test drift), in order to extract meaningful
features from the data, since some computations are difficult to compute directly on the images (for example drift).
Inspecting the distribution of the property’s values (e.g. to notice some images are extremely dark,
or that the aspect ratio of images is different between the train and test sets) can help uncover potential problems
in the way that the datasets were built, or hint about the model’s expected performance on unseen data.</p>
<p>Example for specific scenarios in which measuring properties may come in handy:</p>
<ol class="arabic simple">
<li><p><strong>Investigating low test performance</strong> - detecting high drift in certain properties may help you pinpoint the causes of
the model’s lower performance on the test data.</p></li>
<li><p><strong>Generalizability on new data</strong> - a drift in significant data properties,
may indicate lower ability of the model to accurately predict on the new (different) unlabeled data.</p></li>
<li><p><strong>Find weak segments</strong> - The properties can be used to segment the data and test for low performing segments.
If found, the weak segment may indicate a underrepresented segment or an area where the data quality is worse.</p></li>
<li><p><strong>Find obscure relations between the data and the targets</strong> - the model training might be affected
by properties we are not aware of, and that aren’t the core attributes of what we are aiming for it to learn.
For example, in a classification dataset of wolves and dogs photographs, if only wolves are photographed in
the snow, the brightness of the image may be used to predict the label “wolf” easily. In this case, a model
might not learn to discern wolf from dog by the animal’s characteristics, but by using the background color.</p></li>
</ol>
</section>
<section id="deepchecks-built-in-properties">
<h2>Deepchecks’ Built-in Properties<a class="headerlink" href="#deepchecks-built-in-properties" title="Permalink to this headline">¶</a></h2>
<p>We divide the properties by the data that they are based on: images, labels or predictions.
You can either use the built-in properties or implement your own ones and pass them to the relevant checks.</p>
<p>The built-in image properties are:</p>
<ul class="simple">
<li><p>Aspect Ratio (height / width)</p></li>
<li><p>Area</p></li>
<li><p>Brightness</p></li>
<li><p>RMS (Root Mean Square) Contrast</p></li>
<li><p>RGB Mean Relative Intensity: Mean color intensity for each channel. The color intensity is normalized according to
the other color channels per pixel. This is done in order to capture the relationships between channels and not just
general intensity (brightness).</p>
<ul>
<li><p>Mean Red Relative Intensity</p></li>
<li><p>Mean Green Relative Intensity</p></li>
<li><p>Mean Blue Relative Intensity</p></li>
</ul>
</li>
</ul>
<p>The built-in label &amp; predictions properties are:</p>
<ul class="simple">
<li><p>Samples Per Class (classification + object detection)</p></li>
<li><p>Bounding Box Area (object detection)</p></li>
<li><p>Number of Bounding Boxes Per Image (object detection)</p></li>
</ul>
</section>
<section id="property-structure">
<h2>Property Structure<a class="headerlink" href="#property-structure" title="Permalink to this headline">¶</a></h2>
<p>All property types have a similar structure, which is a dictionary with 3 keys:</p>
<ul class="simple">
<li><p><cite>name</cite> - The name of the property</p></li>
<li><p><cite>method</cite> - The callable function that calculates the property’s value. It accepts the relevant data and returns</p></li>
</ul>
<p>the values list.
- <cite>output_type</cite> - Relates to the method’s return values list, and is one of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>continuous</cite> - For numeric values with continuous nature</p></li>
<li><p><cite>discrete</cite> - For numeric values with discrete nature or non-numeric values</p></li>
<li><p><cite>class_id</cite> - Means the output is of class ids. In this case we will try to translate the ids into their
corresponding class labels.</p></li>
</ul>
</div></blockquote>
<p>Each dictionary is a single property, and the checks accepts a list of those dictionaries. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mean_image</span><span class="p">(</span><span class="n">images</span><span class="p">):</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">image</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">images</span><span class="p">]</span>

<span class="n">properties</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;My Image Mean&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="n">mean_image</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="s1">&#39;continuous&#39;</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<section id="the-method-s-input">
<h3>The Method’s Input<a class="headerlink" href="#the-method-s-input" title="Permalink to this headline">¶</a></h3>
<p>Each property is built for the specific data type that it runs on, and receives its deepchecks-expected format,
as demonstrated in <span class="xref std std-doc">Deepchecks’ format</span>.
Note that prediction and label-based properties are not interchangeable due to their slightly different format, even if they calculate similar values.</p>
</section>
</section>
<section id="properties-demonstration">
<h2>Properties Demonstration<a class="headerlink" href="#properties-demonstration" title="Permalink to this headline">¶</a></h2>
<p>We will demonstrate the 3 drift checks (for
each property type) and implement the properties to pass to it.</p>
<section id="image-property">
<h3>Image Property<a class="headerlink" href="#image-property" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">deepchecks.vision.checks.distribution</span> <span class="kn">import</span> <span class="n">ImagePropertyDrift</span>
<span class="kn">from</span> <span class="nn">skimage.color</span> <span class="kn">import</span> <span class="n">rgb2gray</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="k">def</span> <span class="nf">aspect_ratio</span><span class="p">(</span><span class="n">images</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
  <span class="sd">&quot;&quot;&quot;Return list of floats of image height to width ratio.&quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_sizes</span><span class="p">(</span><span class="n">batch</span><span class="p">)]</span>

<span class="k">def</span> <span class="nf">brightness</span><span class="p">(</span><span class="n">images</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
  <span class="sd">&quot;&quot;&quot;Calculate brightness on each image in the batch.&quot;&quot;&quot;</span>
  <span class="c1"># If grayscale</span>
  <span class="k">if</span> <span class="n">images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">[</span><span class="n">img</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="k">for</span> <span class="n">img</span> <span class="ow">in</span> <span class="n">batch</span><span class="p">]</span>
  <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">[</span><span class="n">rgb2gray</span><span class="p">(</span><span class="n">img</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="k">for</span> <span class="n">img</span> <span class="ow">in</span> <span class="n">batch</span><span class="p">]</span>


  <span class="n">properties</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Aspect Ratio&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="n">aspect_ratio</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="s1">&#39;continuous&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Brightness&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="n">brightness</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="s1">&#39;continuous&#39;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">check</span> <span class="o">=</span> <span class="n">ImagePropertyDrift</span><span class="p">(</span><span class="n">alternative_image_properties</span><span class="o">=</span><span class="n">properties</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="label-property">
<h3>Label Property<a class="headerlink" href="#label-property" title="Permalink to this headline">¶</a></h3>
<p>For label property the input varies according to the task type you are running. In this example we implement
properties which apply to the Detection task type.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">deepchecks.vision.checks.distribution</span> <span class="kn">import</span> <span class="n">TrainTestLabelDrift</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">chain</span>
<span class="kn">import</span> <span class="nn">torch</span>


<span class="k">def</span> <span class="nf">number_of_labels</span><span class="p">(</span><span class="n">labels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
  <span class="sd">&quot;&quot;&quot;Return a list containing the number of detections per sample in batch.&quot;&quot;&quot;</span>
  <span class="k">return</span> <span class="p">[</span><span class="n">label</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">classes_in_labels</span><span class="p">(</span><span class="n">labels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
  <span class="sd">&quot;&quot;&quot;Return a list containing the classes in batch.&quot;&quot;&quot;</span>
  <span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="n">label</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))[:,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">]</span>
  <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">classes</span><span class="p">))</span>


  <span class="n">properties</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Labels Per Sample&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="n">number_of_labels</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="s1">&#39;discrete&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Classes Appearance&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="n">classes_in_labels</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="s1">&#39;class_id&#39;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">check</span> <span class="o">=</span> <span class="n">TrainTestLabelDrift</span><span class="p">(</span><span class="n">alternative_label_properties</span><span class="o">=</span><span class="n">properties</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="prediction-property">
<h3>Prediction Property<a class="headerlink" href="#prediction-property" title="Permalink to this headline">¶</a></h3>
<p>Prediction property’s input, like label property, also varies by the task type you are running. In this example we
implement properties which apply to the Detection task type.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">deepchecks.vision.checks.distribution</span> <span class="kn">import</span> <span class="n">TrainTestPredictionDrift</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">chain</span>
<span class="kn">import</span> <span class="nn">torch</span>

<span class="k">def</span> <span class="nf">classes_of_predictions</span><span class="p">(</span><span class="n">predictions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
  <span class="sd">&quot;&quot;&quot;Return a list containing the classes in batch.&quot;&quot;&quot;</span>
  <span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="n">tensor</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">))[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="k">for</span> <span class="n">tensor</span> <span class="ow">in</span> <span class="n">predictions</span><span class="p">]</span>
  <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">classes</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">bbox_area</span><span class="p">(</span><span class="n">predictions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
  <span class="sd">&quot;&quot;&quot;Return a list containing the area of bboxes per image in batch.&quot;&quot;&quot;</span>
  <span class="n">areas</span> <span class="o">=</span> <span class="p">[(</span><span class="n">prediction</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">))[:,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">prediction</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">))[:,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
           <span class="k">for</span> <span class="n">prediction</span> <span class="ow">in</span> <span class="n">predictions</span><span class="p">]</span>
  <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">areas</span><span class="p">))</span>


<span class="n">properties</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Classes in Predictions&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="n">classes_of_predictions</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="s1">&#39;class_id&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Bounding Box Area&#39;</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="n">bbox_area</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="s1">&#39;continuous&#39;</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">check</span> <span class="o">=</span> <span class="n">TrainTestPredictionDrift</span><span class="p">(</span><span class="n">alternative_prediction_properties</span><span class="o">=</span><span class="n">properties</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="data-classes/DetectionData.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">The Object Detection Data Class</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../examples/index.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Examples</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021-2022, Deepchecks.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0+/d1e74e5.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>